import{k as e,o as n,X as t,T as r,x as i,s as o}from"./index-DJgzJvx0.js";import"./vendor-kOq7Q5-U.js";import{F as a}from"./Table-Bpp4NRb8.js";import{T as s}from"./index-Dixg4MZV.js";import"./charts-4CCI6hAs.js";import"./index-ZAZRIL-n.js";import"./index-CsPvpU6M.js";import"./index-Bjno29EH.js";import"./index-BzygXUWO.js";import"./useClosable-BMlLLbW6.js";const{Text:l}=r,d=r=>{const d=e.c(48),{students:_,isMobile:g,isFilterReady:b,onAttitudeChange:C}=r,I=c;let z;d[0]!==b||d[1]!==g||d[2]!==C?(z=(e,t,r)=>n.jsx(s,{min:0,max:100,step:1,precision:0,size:g?"small":"middle",style:{width:"100%"},value:e.attitude?.[r]??0,disabled:!b,onChange:e=>C(t,r,e)}),d[0]=b,d[1]=g,d[2]=C,d[3]=z):z=d[3];const K=z;let N,A;d[4]!==_?(N=_||[],d[4]=_,d[5]=N):N=d[5],d[6]!==N?(A=N.flatMap(p),d[6]=N,d[7]=A):A=d[7];const F=A;let R,B,D,M,P,L,X,$,q,E,G,H,J,O,Q,U,V;d[8]===Symbol.for("react.memo_cache_sentinel")?(R={title:"NIS",dataIndex:"nis",key:"nis",width:"12%",render:y,onCell:m,responsive:["md"]},d[8]=R):R=d[8],d[9]===Symbol.for("react.memo_cache_sentinel")?(B={title:"Nama Siswa",dataIndex:"name",key:"name",width:"22%",render:u,onCell:h,responsive:["md"]},d[9]=B):B=d[9],d[10]===Symbol.for("react.memo_cache_sentinel")?(D={title:"Siswa",key:"student",responsive:["xs"],render:x,onCell:j},d[10]=D):D=d[10],d[11]!==b||d[12]!==C||d[13]!==K?(M={title:"Kinerja",key:"kinerja",width:"10%",render:(e,t,r)=>{const o=t.originalIndex??r;return"note"===t.rowType?n.jsx(i.TextArea,{rows:2,placeholder:"Catatan",value:t.attitude?.teacher_note||"",disabled:!b,onChange:e=>C(o,"teacher_note",e.target.value)}):K(t,o,"kinerja")},onCell:f},d[11]=b,d[12]=C,d[13]=K,d[14]=M):M=d[14],d[15]!==K?(P=(e,n,t)=>{const r=n.originalIndex??t;return"note"===n.rowType?null:K(n,r,"kedisiplinan")},d[15]=K,d[16]=P):P=d[16],d[17]===Symbol.for("react.memo_cache_sentinel")?(L=["sm"],d[17]=L):L=d[17],d[18]!==P?(X={title:"Kedisiplinan",key:"kedisiplinan",width:"10%",render:P,onCell:w,responsive:L},d[18]=P,d[19]=X):X=d[19],d[20]!==K?($=(e,n,t)=>{const r=n.originalIndex??t;return"note"===n.rowType?null:K(n,r,"keaktifan")},d[20]=K,d[21]=$):$=d[21],d[22]===Symbol.for("react.memo_cache_sentinel")?(q=["sm"],d[22]=q):q=d[22],d[23]!==$?(E={title:"Keaktifan",key:"keaktifan",width:"10%",render:$,onCell:S,responsive:q},d[23]=$,d[24]=E):E=d[24],d[25]!==K?(G=(e,n,t)=>{const r=n.originalIndex??t;return"note"===n.rowType?null:K(n,r,"percaya_diri")},d[25]=K,d[26]=G):G=d[26],d[27]===Symbol.for("react.memo_cache_sentinel")?(H=["sm"],d[27]=H):H=d[27],d[28]!==G?(J={title:"Percaya Diri",key:"percaya_diri",width:"10%",render:G,onCell:k,responsive:H},d[28]=G,d[29]=J):J=d[29],d[30]===Symbol.for("react.memo_cache_sentinel")?(O=["summary","sikap"],d[30]=O):O=d[30],d[31]===Symbol.for("react.memo_cache_sentinel")?(Q=(e,t)=>"note"===t.rowType?null:n.jsx(l,{children:I(e)}),d[31]=Q):Q=d[31],d[32]===Symbol.for("react.memo_cache_sentinel")?(U={title:"Rata-rata",dataIndex:O,key:"average",width:"8%",render:Q,onCell:v,responsive:["md"]},d[32]=U):U=d[32],d[33]!==X||d[34]!==E||d[35]!==J||d[36]!==M?(V=[R,B,D,M,X,E,J,U],d[33]=X,d[34]=E,d[35]=J,d[36]=M,d[37]=V):V=d[37];const W=V;let Y;d[38]!==b||d[39]!==C||d[40]!==K?(Y=(e,r)=>n.jsx(o,{size:"small",style:{borderRadius:12,border:"1px solid #f0f0f0"},styles:{body:{padding:12}},children:n.jsxs(t,{orientation:"vertical",size:8,style:{width:"100%"},children:[n.jsxs("div",{children:[n.jsx(l,{strong:!0,children:e.name}),n.jsx("div",{children:n.jsxs(l,{type:"secondary",style:{fontSize:12},children:["NIS: ",e.nis||"-"]})})]}),n.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"1fr 1fr"},children:[n.jsxs("div",{children:[n.jsx(l,{type:"secondary",children:"Kinerja"}),K(e,r,"kinerja")]}),n.jsxs("div",{children:[n.jsx(l,{type:"secondary",children:"Kedisiplinan"}),K(e,r,"kedisiplinan")]}),n.jsxs("div",{children:[n.jsx(l,{type:"secondary",children:"Keaktifan"}),K(e,r,"keaktifan")]}),n.jsxs("div",{children:[n.jsx(l,{type:"secondary",children:"Percaya Diri"}),K(e,r,"percaya_diri")]})]}),n.jsxs("div",{children:[n.jsx(l,{type:"secondary",children:"Catatan"}),n.jsx(i.TextArea,{rows:2,placeholder:"Catatan",value:e.attitude?.teacher_note||"",disabled:!b,onChange:e=>C(r,"teacher_note",e.target.value)})]})]})},e.id),d[38]=b,d[39]=C,d[40]=K,d[41]=Y):Y=d[41];const Z=Y;let ee;return d[42]!==W||d[43]!==g||d[44]!==Z||d[45]!==_||d[46]!==F?(ee=g?n.jsx(t,{orientation:"vertical",size:12,style:{width:"100%"},children:(_||[]).map((e,n)=>Z(e,n))}):n.jsx(a,{dataSource:F,columns:W,rowKey:T,pagination:!1,size:"middle",tableLayout:"fixed",locale:{emptyText:"Belum ada siswa di kelas ini."}}),d[42]=W,d[43]=g,d[44]=Z,d[45]=_,d[46]=F,d[47]=ee):ee=d[47],ee};function c(e){const n=Number(e||0);return Number.isInteger(n)?n.toString():n.toFixed(2)}function p(e,n){return[{...e,rowType:"score",originalIndex:n},{...e,rowType:"note",originalIndex:n}]}function y(e){return n.jsx(l,{children:e||"-"})}function m(e){return{rowSpan:"score"===e.rowType?2:0}}function u(e){return n.jsx(l,{strong:!0,children:e})}function h(e){return{rowSpan:"score"===e.rowType?2:0}}function x(e,r){return"note"===r.rowType?null:n.jsxs(t,{orientation:"vertical",size:2,children:[n.jsx(l,{strong:!0,children:r.name}),n.jsx(l,{type:"secondary",style:{fontSize:12},children:r.nis||"-"})]})}function j(e){return"note"===e.rowType?{colSpan:0}:{rowSpan:2}}function f(e){return"note"===e.rowType?{colSpan:4}:{}}function w(e){return"note"===e.rowType?{colSpan:0}:{}}function S(e){return"note"===e.rowType?{colSpan:0}:{}}function k(e){return"note"===e.rowType?{colSpan:0}:{}}function v(e){return"note"===e.rowType?{colSpan:0}:{}}function T(e){return"note"===e.rowType?`${e.id}-note`:e.id}export{d as default};
