import{r as e,R as t}from"./vendor-kOq7Q5-U.js";import{a as r,cz as o,dT as i,f as n,bW as s,M as a,g as l,b as c,r as d,bv as u,ab as p,u as m,by as g,ae as y,aj as f,dE as $}from"./index-BMgVGS0W.js";const h={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,railColor:"#D9D9D9",railWidth:1,gapPosition:"bottom",loading:!1},k=({bg:t,children:r})=>e.createElement("div",{style:{width:"100%",height:"100%",background:t}},r);function b(e,t){return Object.keys(e).map(r=>{const o=parseFloat(r),i=`${Math.floor(o*t)}%`;return`${e[r]} ${i}`})}const C=e.forwardRef((t,o)=>{const{prefixCls:i,color:n,gradientId:s,radius:a,className:l,style:c,ptg:d,strokeLinecap:u,strokeWidth:p,size:m,gapDegree:g}=t,y=n&&"object"==typeof n,f=y?"#FFF":void 0,$=m/2,h=e.createElement("circle",{className:r(`${i}-circle-path`,l),r:a,cx:$,cy:$,stroke:f,strokeLinecap:u,strokeWidth:p,opacity:0===d?0:1,style:c,ref:o});if(!y)return h;const C=`${s}-conic`,v=g?180+g/2+"deg":"0deg",S=b(n,(360-g)/360),x=b(n,1),E=`conic-gradient(from ${v}, ${S.join(", ")})`,w=`linear-gradient(to ${g?"bottom":"top"}, ${x.join(", ")})`;return e.createElement(e.Fragment,null,e.createElement("mask",{id:C},h),e.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:`url(#${C})`},e.createElement(k,{bg:w},e.createElement(k,{bg:E}))))}),v=100,S=(e,t,r,o,i,n,s,a,l,c,d=0)=>{let u=(100-o)/100*t;"round"===l&&100!==o&&(u+=c/2,u>=t&&(u=t-.01));return{stroke:"string"==typeof a?a:void 0,strokeDasharray:`${t}px ${e}`,strokeDashoffset:u+d,transform:`rotate(${i+r/100*360*((360-n)/360)+(0===n?0:{bottom:0,top:180,left:90,right:-90}[s])}deg)`,transformOrigin:"50px 50px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},x.apply(this,arguments)}function E(e){const t=e??[];return Array.isArray(t)?t:[t]}const w=i=>{const{id:n,prefixCls:s,classNames:a={},styles:l={},steps:c,strokeWidth:d,railWidth:u,gapDegree:p=0,gapPosition:m,railColor:g,strokeLinecap:y,style:f,className:$,strokeColor:k,percent:b,loading:w,...N}={...h,...i},j=o(n),A=`${j}-gradient`,W=50-d/2,z=2*Math.PI*W,D=p>0?90+p/2:-90,I=z*((360-p)/360),{count:M,gap:P}="object"==typeof c?c:{count:c,gap:2},O=E(b),R=E(k),X=R.find(e=>e&&"object"==typeof e),F=X&&"object"==typeof X?"butt":y,{indeterminateStyleProps:L,indeterminateStyleAnimation:T}=(({id:e,loading:r})=>{if(!r)return{indeterminateStyleProps:{},indeterminateStyleAnimation:null};const o=`${e}-indeterminate-animate`;return{indeterminateStyleProps:{transform:"rotate(0deg)",animation:`${o} 1s linear infinite`},indeterminateStyleAnimation:t.createElement("style",null,`@keyframes ${o} {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }`)}})({id:j,loading:w}),B=S(z,I,0,100,D,p,m,g,F,d),H=(()=>{const t=e.useRef([]),r=e.useRef(null);return e.useEffect(()=>{const e=Date.now();let o=!1;t.current.forEach(t=>{if(!t)return;o=!0;const i=t.style;i.transitionDuration=".3s, .3s, .3s, .06s",r.current&&e-r.current<100&&(i.transitionDuration="0s, 0s")}),o&&(r.current=Date.now())}),t.current})();return e.createElement("svg",x({className:r(`${s}-circle`,a.root,$),viewBox:"0 0 100 100",style:{...l.root,...f},id:n,role:"presentation"},N),!M&&e.createElement("circle",{className:r(`${s}-circle-rail`,a.rail),r:W,cx:50,cy:50,stroke:g,strokeLinecap:F,strokeWidth:u||d,style:{...B,...l.rail}}),M?(()=>{const t=Math.round(M*(O[0]/100)),o=100/M;let i=0;return new Array(M).fill(null).map((n,c)=>{const u=c<=t-1?R[0]:g,y=u&&"object"==typeof u?`url(#${A})`:void 0,f=S(z,I,i,o,D,p,m,u,"butt",d,P);return i+=100*(I-f.strokeDashoffset+P)/I,e.createElement("circle",{key:c,className:r(`${s}-circle-path`,a.track),r:W,cx:50,cy:50,stroke:y,strokeWidth:d,opacity:1,style:{...f,...l.track},ref:e=>{H[c]=e}})})})():(()=>{let t=0;return O.map((r,o)=>{const i=R[o]||R[R.length-1],n=S(z,I,t,r,D,p,m,i,F,d);return t+=r,e.createElement(C,{key:o,color:i,ptg:r,radius:W,prefixCls:s,gradientId:A,className:a.track,style:{...n,...L,...l.track},strokeLinecap:F,strokeWidth:d,gapDegree:p,ref:e=>{H[o]=e},size:v})}).reverse()})(),T)};function N(e){return!e||e<0?0:e>100?100:e}function j({success:e}){let t;return e&&"percent"in e&&(t=e.percent),t}const A=(e,t,r)=>{let o=-1,i=-1;if("step"===t){const t=r.steps,n=r.strokeWidth;"string"==typeof e||void 0===e?(o="small"===e?2:14,i=n??8):"number"==typeof e?[o,i]=[e,e]:[o=14,i=8]=Array.isArray(e)?e:[e.width,e.height],o*=t}else if("line"===t){const t=r?.strokeWidth;"string"==typeof e||void 0===e?i=t||("small"===e?6:8):"number"==typeof e?[o,i]=[e,e]:[o=-1,i=8]=Array.isArray(e)?e:[e.width,e.height]}else"circle"!==t&&"dashboard"!==t||("string"==typeof e||void 0===e?[o,i]="small"===e?[60,60]:[120,120]:"number"==typeof e?[o,i]=[e,e]:Array.isArray(e)&&(o=e[0]??e[1]??120,i=e[0]??e[1]??120));return[o,i]},W=["root","body","indicator"],z=t=>{const{prefixCls:o,classNames:l,styles:c,railColor:d,trailColor:u,strokeLinecap:p="round",gapPosition:m,gapPlacement:g,gapDegree:y,width:f=120,type:$,children:h,success:k,size:b=f,steps:C}=t,{direction:v}=n("progress"),S=d??u,[x,E]=A(b,"circle");let{strokeWidth:z}=t;void 0===z&&(z=Math.max((e=>3/e*100)(x),6));const D={width:x,height:E,fontSize:.15*x+6},I=e.useMemo(()=>y||0===y?y:"dashboard"===$?75:void 0,[y,$]),M=(({percent:e,success:t})=>{const r=N(j({success:t}));return[r,N(N(e)-r)]})(t),P=e.useMemo(()=>{const e=(g??m)||"dashboard"===$&&"bottom"||void 0,t="rtl"===v;switch(e){case"start":return t?"right":"left";case"end":return t?"left":"right";default:return e}},[v,g,m,$]),O="[object Object]"===Object.prototype.toString.call(t.strokeColor),R=(({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||i.green,t||null]})({success:k,strokeColor:t.strokeColor}),X=r(`${o}-body`,{[`${o}-circle-gradient`]:O},l.body),F=e.createElement(w,{steps:C,percent:C?M[1]:M,strokeWidth:z,railWidth:z,strokeColor:C?R[1]:R,strokeLinecap:p,railColor:S,prefixCls:o,gapDegree:I,gapPosition:P,classNames:s(l,W),styles:s(c,W)}),L=x<=20,T=e.createElement("div",{className:X,style:{...D,...c.body}},F,!L&&h);return L?e.createElement(a,{title:h},T):T},D="--progress-line-stroke-color",I=e=>{const t="-100%";return new u("antProgressLTRActive",{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},M=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{...d(e),display:"inline-flex","&-rtl":{direction:"rtl"},[`${t}-indicator`]:{color:e.colorText,lineHeight:1,whiteSpace:"nowrap",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize}},[`&${t}-status-exception`]:{[`${t}-indicator`]:{color:e.colorError}},[`&${t}-status-success`]:{[`${t}-indicator`]:{color:e.colorSuccess}}}}},P=e=>{const{componentCls:t}=e;return{[`${t}-line`]:{position:"relative",width:"100%",fontSize:e.fontSize,[`${t}-body`]:{display:"inline-flex",alignItems:"center",width:"100%",gap:e.marginXS},[`${t}-rail`]:{flex:"auto",background:e.remainingColor,borderRadius:e.lineBorderRadius,position:"relative",width:"100%"},[`&${t}-status-active`]:{[`${t}-track:after`]:{content:'""',position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:"inherit",opacity:0,animationName:I(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite"}},[`${t}-track`]:{position:"absolute",insetInlineStart:0,insetBlock:0,borderRadius:"inherit",background:e.defaultColor,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,minWidth:"max-content",display:"flex",alignItems:"center","&-success":{background:e.colorSuccess}},[`&${t}-status-exception`]:{[`${t}-track`]:{background:e.colorError}},[`&${t}-status-success`]:{[`${t}-track`]:{background:e.colorSuccess}},[`${t}-indicator-outer`]:{[`&${t}-indicator-start`]:{order:-1}},[`${t}-body-layout-bottom`]:{flexDirection:"column",alignItems:"center",gap:e.marginXXS},[`${t}-indicator${t}-indicator-inner`]:{color:e.colorWhite,paddingInline:e.paddingXXS,width:"100%",display:"flex",justifyContent:"center",[`&${t}-indicator-end`]:{justifyContent:"end"},[`&${t}-indicator-start`]:{justifyContent:"start"},[`&${t}-indicator-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}}},O=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-circle`]:{[`${t}-circle-rail`]:{stroke:e.remainingColor},[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-body`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`${t}-indicator`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`&${t}-status-exception`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}}},[`&${t}-status-success`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},R=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-body":{display:"flex",flexDirection:"row",alignItems:"center",gap:e.progressStepMarginInlineEnd,[`${t}-indicator`]:{marginInlineStart:e.marginXS}},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},X=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-indicator ${r}`]:{fontSize:e.fontSizeSM}}}},F=l("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=c(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[M(r),P(r),O(r),R(r),X(r)]},e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:e.fontSize/e.fontSizeSM+"em"})),L=(e,t)=>{const{from:r=i.blue,to:o=i.blue,direction:n=("rtl"===t?"to left":"to right"),...s}=e;if(0!==Object.keys(s).length){const e=`linear-gradient(${n}, ${(e=>{let t=[];return Object.keys(e).forEach(r=>{const o=Number.parseFloat(r.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[r]})}),t=t.sort((e,t)=>e.key-t.key),t.map(({key:e,value:t})=>`${t} ${e}%`).join(", ")})(s)})`;return{background:e,[D]:e}}const a=`linear-gradient(${n}, ${r}, ${o})`;return{background:a,[D]:a}},T=t=>{const{prefixCls:o,classNames:i,styles:n,direction:s,percent:a,size:l,strokeWidth:c,strokeColor:d,strokeLinecap:u="round",children:p,railColor:m,trailColor:g,percentPosition:y,success:f}=t,{align:$,type:h}=y,k=m??g,b="square"===u||"butt"===u?0:void 0,C=l??[-1,c||("small"===l?6:8)],[v,S]=A(C,"line",{strokeWidth:c}),x={backgroundColor:k||void 0,borderRadius:b,height:S},E=`${o}-track`,w=d&&"string"!=typeof d?L(d,s):{[D]:d,background:d},W={width:`${N(a)}%`,height:S,borderRadius:b,...w},z=j(t),I={width:`${N(z)}%`,height:S,borderRadius:b,backgroundColor:f?.strokeColor};return e.createElement("div",{className:r(`${o}-body`,i.body,{[`${o}-body-layout-bottom`]:"center"===$&&"outer"===h}),style:{width:v>0?v:"100%",...n.body}},e.createElement("div",{className:r(`${o}-rail`,i.rail),style:{...x,...n.rail}},e.createElement("div",{className:r(E,i.track),style:{...W,...n.track}},"inner"===h&&p),void 0!==z&&e.createElement("div",{className:r(E,`${E}-success`,i.track),style:{...I,...n.track}})),"outer"===h&&p)},B=t=>{const{classNames:o,styles:i,size:n,steps:s,rounding:a=Math.round,percent:l=0,strokeWidth:c=8,strokeColor:d,railColor:u,trailColor:p,prefixCls:m,children:g}=t,y=a(s*(l/100)),f=n??["small"===n?2:14,c],[$,h]=A(f,"step",{steps:s,strokeWidth:c}),k=$/s,b=Array.from({length:s}),C=u??p;for(let v=0;v<s;v++){const t=Array.isArray(d)?d[v]:d;b[v]=e.createElement("div",{key:v,className:r(`${m}-steps-item`,{[`${m}-steps-item-active`]:v<=y-1},o.track),style:{backgroundColor:v<=y-1?t:C,width:k,height:h,...i.track}})}return e.createElement("div",{className:r(`${m}-steps-body`,o.body),style:i.body},b,g)},H=["normal","exception","active","success"],q=e.forwardRef((t,o)=>{const{prefixCls:i,className:a,rootClassName:l,classNames:c,styles:d,steps:u,strokeColor:h,percent:k=0,size:b="default",showInfo:C=!0,type:v="line",status:S,format:x,style:E,percentPosition:w={},...W}=t,{align:D="end",type:I="outer"}=w,M=Array.isArray(h)?h[0]:h,P="string"==typeof h||Array.isArray(h)?h:void 0,O=e.useMemo(()=>{if(M){const e="string"==typeof M?M:Object.values(M)[0];return new p(e).isLight()}return!1},[h]),R=e.useMemo(()=>{const e=j(t);return Number.parseInt(void 0!==e?(e??0)?.toString():(k??0)?.toString(),10)},[k,t.success]),X=e.useMemo(()=>!H.includes(S)&&R>=100?"success":S||"normal",[S,R]),{getPrefixCls:L,direction:q,className:Q,style:Y,classNames:G,styles:J}=n("progress"),K=L("progress",i),[U,V]=F(K),Z={...t,percent:k,type:v,size:b,showInfo:C,percentPosition:w},[_,ee]=m([G,c],[J,d],{props:Z}),te="line"===v,re=te&&!u,oe=e.useMemo(()=>{if(!C)return null;const o=j(t);let i;const n=te&&O&&"inner"===I;return"inner"===I||x||"exception"!==X&&"success"!==X?i=(x||(e=>`${e}%`))(N(k),N(o)):"exception"===X?i=te?e.createElement(g,null):e.createElement(y,null):"success"===X&&(i=te?e.createElement(f,null):e.createElement($,null)),e.createElement("span",{className:r(`${K}-indicator`,{[`${K}-indicator-bright`]:n,[`${K}-indicator-${D}`]:re,[`${K}-indicator-${I}`]:re},_.indicator),style:ee.indicator,title:"string"==typeof i?i:void 0},i)},[C,k,R,X,v,K,x,te,O,I,D,re,_.indicator,ee.indicator]),ie={...t,classNames:_,styles:ee};let ne;"line"===v?ne=u?e.createElement(B,{...ie,strokeColor:P,prefixCls:K,steps:"object"==typeof u?u.count:u},oe):e.createElement(T,{...ie,strokeColor:M,prefixCls:K,direction:q,percentPosition:{align:D,type:I}},oe):"circle"!==v&&"dashboard"!==v||(ne=e.createElement(z,{...ie,strokeColor:M,prefixCls:K,progressStatus:X},oe));const se=r(K,`${K}-status-${X}`,{[`${K}-${"dashboard"===v?"circle":v}`]:"line"!==v,[`${K}-inline-circle`]:"circle"===v&&A(b,"circle")[0]<=20,[`${K}-line`]:re,[`${K}-line-align-${D}`]:re,[`${K}-line-position-${I}`]:re,[`${K}-steps`]:u,[`${K}-show-info`]:C,[`${K}-${b}`]:"string"==typeof b,[`${K}-rtl`]:"rtl"===q},Q,a,l,_.root,U,V);return e.createElement("div",{ref:o,style:{...Y,...ee.root,...E},className:se,role:"progressbar","aria-valuenow":R,"aria-valuemin":0,"aria-valuemax":100,...s(W,["railColor","trailColor","strokeWidth","width","gapDegree","gapPosition","gapPlacement","strokeLinecap","success"])},ne)});export{q as P};
