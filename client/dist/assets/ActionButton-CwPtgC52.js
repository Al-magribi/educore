import{r as e}from"./vendor-kOq7Q5-U.js";import{cD as r,B as t,c8 as n}from"./index-IfHJv5WL.js";const u=e=>e&&"object"==typeof e?e:"boolean"==typeof e?{enabled:e,blur:e}:{},o=(r,t,n)=>e.useMemo(()=>{const e=u(r),o={...u(t),...e},i=!1!==o.blur?`${n}-mask-blur`:void 0;return[!1!==o.enabled,{mask:i}]},[r,t,n]),i=e=>"function"==typeof e?.then,l=u=>{const{type:o,children:l,prefixCls:s,buttonProps:c,close:f,autoFocus:a,emitEvent:p,isSilent:m,quitOnNullishReturnValue:d,actionFn:b}=u,v=e.useRef(!1),h=e.useRef(null),[y,j]=r(!1),x=(...e)=>{f?.(...e)};e.useEffect(()=>{let e=null;return a&&(e=setTimeout(()=>{h.current?.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[a]);return e.createElement(t,{...n(o),onClick:e=>{if(v.current)return;if(v.current=!0,!b)return void x();let r;if(p){if(r=b(e),d&&!i(r))return v.current=!1,void x(e)}else if(b.length)r=b(f),v.current=!1;else if(r=b(),!i(r))return void x();(e=>{i(e)&&(j(!0),e.then((...e)=>{j(!1,!0),x.apply(void 0,e),v.current=!1},e=>{if(j(!1,!0),v.current=!1,!m?.())return Promise.reject(e)}))})(r)},loading:y,prefixCls:s,...c,ref:h},l)};export{l as A,o as u};
