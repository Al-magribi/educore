import{I as e,k as t,E as s,o as a,T as r,w as n,p as i,C as l,s as c,G as o,x as d}from"./index-IfHJv5WL.js";import{r as m}from"./vendor-kOq7Q5-U.js";import{P as x}from"./progress-Djso4M81.js";import{A as h}from"./index-Ck6zxCm-.js";import{S as f}from"./index-CPaPbrqg.js";import{S as j}from"./index-ClObTdl7.js";import{R as u,a as p}from"./TeamOutlined-jVCeJ4LY.js";import{F as y}from"./Table-ClpUx-_a.js";import{T as g}from"./index-BM57nN4D.js";import"./charts-DyIopC3t.js";import"./index-BSxM1sbQ.js";import"./index-bEkSGdHP.js";var _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},b.apply(this,arguments)}const v=(t,s)=>m.createElement(e,b({},t,{ref:s,icon:_})),S=m.forwardRef(v),{Title:k,Text:w}=r,I=()=>{const e=t.c(43),{data:r,isLoading:m,isError:g}=s();let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},e[0]=_):_=e[0];const b=_;if(m){let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx(n,{title:"Dashboard",children:a.jsx("div",{style:{textAlign:"center",padding:50},children:a.jsx(f,{size:"large"})})}),e[1]=t):t=e[1],t}if(g){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx(n,{title:"Dashboard",children:a.jsx(h,{message:"Gagal memuat data",type:"error",showIcon:!0})}),e[2]=t):t=e[2],t}let v;e[3]!==r?.attendance?(v=r?.attendance.reduce(T,0)||0,e[3]=r?.attendance,e[4]=v):v=e[4];const k=v;let I;e[5]===Symbol.for("react.memo_cache_sentinel")?(I=[{title:"Waktu",dataIndex:"created_at",key:"created_at",render:z},{title:"User",dataIndex:"full_name",key:"full_name",render:A},{title:"Aktivitas",dataIndex:"action",key:"action",render:C}],e[5]=I):I=e[5];const H=I;let B,D,O;e[6]===Symbol.for("react.memo_cache_sentinel")?(B={padding:"0 10px"},e[6]=B):B=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(D=[16,16],O={marginBottom:24},e[7]=D,e[8]=O):(D=e[7],O=e[8]);const E=r?.stats?.students||0;let M,G;e[9]===Symbol.for("react.memo_cache_sentinel")?(M=a.jsx(i,{style:{color:"#1890ff"}}),e[9]=M):M=e[9],e[10]!==E?(G=a.jsx(l,{xs:24,sm:12,md:6,children:a.jsx(c,{style:b,children:a.jsx(j,{title:"Total Siswa",value:E,prefix:M})})}),e[10]=E,e[11]=G):G=e[11];const R=r?.stats?.teachers||0;let F,K;e[12]===Symbol.for("react.memo_cache_sentinel")?(F=a.jsx(u,{style:{color:"#52c41a"}}),e[12]=F):F=e[12],e[13]!==R?(K=a.jsx(l,{xs:24,sm:12,md:6,children:a.jsx(c,{style:b,children:a.jsx(j,{title:"Total Guru",value:R,prefix:F})})}),e[13]=R,e[14]=K):K=e[14];const L=r?.stats?.activeExams||0;let P,U;e[15]===Symbol.for("react.memo_cache_sentinel")?(P=a.jsx(p,{style:{color:"#faad14"}}),e[15]=P):P=e[15],e[16]!==L?(U=a.jsx(l,{xs:24,sm:12,md:6,children:a.jsx(c,{style:b,children:a.jsx(j,{title:"Ujian Aktif (CBT)",value:L,prefix:P})})}),e[16]=L,e[17]=U):U=e[17];const q=r?.stats?.tahfizToday||0;let V,W,J,N,Q,X,Y,Z,$,ee,te;return e[18]===Symbol.for("react.memo_cache_sentinel")?(V=a.jsx(o,{style:{color:"#722ed1"}}),e[18]=V):V=e[18],e[19]!==q?(W=a.jsx(l,{xs:24,sm:12,md:6,children:a.jsx(c,{style:b,children:a.jsx(j,{title:"Setoran Tahfiz (Hari Ini)",value:q,prefix:V})})}),e[19]=q,e[20]=W):W=e[20],e[21]!==K||e[22]!==U||e[23]!==W||e[24]!==G?(J=a.jsxs(d,{gutter:D,style:O,children:[G,K,U,W]}),e[21]=K,e[22]=U,e[23]=W,e[24]=G,e[25]=J):J=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(N=[24,24],e[26]=N):N=e[26],e[27]!==r||e[28]!==k?(Q=r?.attendance?.length>0?r.attendance.map((e,t)=>{const s=k>0?(parseInt(e.count)/k*100).toFixed(1):0;let r="#1890ff";return"Sakit"===e.status&&(r="#faad14"),"Izin"===e.status&&(r="#13c2c2"),"Alpha"===e.status&&(r="#ff4d4f"),a.jsxs("div",{style:{marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx(w,{children:e.status}),a.jsxs(w,{strong:!0,children:[e.count," Siswa"]})]}),a.jsx(x,{percent:s,strokeColor:r,size:"small"})]},t)}):a.jsx(h,{title:"Belum ada data presensi hari ini",type:"info",showIcon:!0}),e[27]=r,e[28]=k,e[29]=Q):Q=e[29],e[30]!==Q?(X=a.jsx(l,{xs:24,lg:10,children:a.jsx(c,{title:"Kehadiran Hari Ini",style:b,children:Q})}),e[30]=Q,e[31]=X):X=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(Y=a.jsxs("span",{children:[a.jsx(S,{})," Aktivitas Sistem Terakhir"]}),e[32]=Y):Y=e[32],e[33]!==r?.logs?(Z=r?.logs||[],e[33]=r?.logs,e[34]=Z):Z=e[34],e[35]!==Z?($=a.jsx(l,{xs:24,lg:14,children:a.jsx(c,{title:Y,style:b,children:a.jsx(y,{dataSource:Z,columns:H,pagination:!1,rowKey:"created_at",size:"small"})})}),e[35]=Z,e[36]=$):$=e[36],e[37]!==X||e[38]!==$?(ee=a.jsxs(d,{gutter:N,children:[X,$]}),e[37]=X,e[38]=$,e[39]=ee):ee=e[39],e[40]!==J||e[41]!==ee?(te=a.jsx(n,{title:"Dashboard Center",children:a.jsxs("div",{style:B,children:[J,ee]})}),e[40]=J,e[41]=ee,e[42]=te):te=e[42],te};function T(e,t){return e+parseInt(t.count)}function z(e){return new Date(e).toLocaleString("id-ID")}function A(e){return a.jsx(w,{strong:!0,children:e})}function C(e){return a.jsx(g,{color:"blue",children:e})}export{I as default};
