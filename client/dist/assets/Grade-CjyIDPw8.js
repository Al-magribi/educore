import{k as e,ag as a,F as t,bC as s,bD as r,bE as i,bF as o,o as n,x as l,T as c,z as d,s as m,M as p,B as h,aL as x}from"./index-DJgzJvx0.js";import{r as u}from"./vendor-kOq7Q5-U.js";import{I as y}from"./InfiniteScrollList-CRQVFRuq.js";import{G as g}from"./graduation-cap-DX8X8xmD.js";import{P as j}from"./pencil-BHIqPcQ5.js";import{P as f}from"./index-C1pdE3N8.js";import{T as b}from"./trash-2-AcrYeN4V.js";import{P as k}from"./plus-BlyBk2I3.js";import{L as S}from"./loader-circle-CRJL7iuh.js";import{M as B}from"./index-CWRbA1GH.js";import"./charts-4CCI6hAs.js";import"./index-CsPvpU6M.js";import"./index-BzygXUWO.js";import"./index-Ddh-PgSR.js";import"./ActionButton-DZkZ4UyV.js";import"./context-Co2t6AGx.js";import"./useMergedMask-hWGqm8nf.js";import"./useClosable-BMlLLbW6.js";const{Search:_}=l,{Text:T,Title:C}=c,w=c=>{const w=e.c(86),{screens:L}=c,{token:G}=a.useToken(),[I]=t.useForm(),[P,R]=u.useState(1),[z,F]=u.useState("");let D;w[0]===Symbol.for("react.memo_cache_sentinel")?(D=[],w[0]=D):D=w[0];const[M,E]=u.useState(D),[H,N]=u.useState(!0),[X,q]=u.useState(!1),[A,K]=u.useState(null);let W;w[1]!==P||w[2]!==z?(W={page:P,limit:12,search:z},w[1]=P,w[2]=z,w[3]=W):W=w[3];const{data:J,isFetching:O}=s(W),[V,Y]=r(),{isLoading:$}=Y,[Q,U]=i(),{isLoading:Z}=U,[ee,ae]=o(),{isLoading:te}=ae;let se,re,ie;w[4]!==J||w[5]!==P?(se=()=>{J&&(E(1===P?J.data:e=>[...e,...J.data]),N(P<J.meta.totalPages))},re=[J,P],w[4]=J,w[5]=P,w[6]=se,w[7]=re):(se=w[6],re=w[7]),u.useEffect(se,re),w[8]!==H||w[9]!==O?(ie=()=>{!O&&H&&R(v)},w[8]=H,w[9]=O,w[10]=ie):ie=w[10];const oe=ie;let ne;w[11]===Symbol.for("react.memo_cache_sentinel")?(ne=e=>{F(e),R(1),E([])},w[11]=ne):ne=w[11];const le=ne;let ce;w[12]!==ee?(ce=async e=>{try{await ee(e).unwrap(),d.success("Data berhasil dihapus"),R(1)}catch(a){const e=a;d.error(e?.data?.message||"Gagal menghapus data")}},w[12]=ee,w[13]=ce):ce=w[13];const de=ce;let me;w[14]!==V||w[15]!==Q||w[16]!==A||w[17]!==I?(me=async e=>{try{A?(await Q({id:A.id,...e}).unwrap(),d.success("Berhasil diperbarui")):(await V(e).unwrap(),d.success("Berhasil ditambahkan")),q(!1),I.resetFields(),R(1)}catch(a){const e=a;d.error(e?.data?.message||"Terjadi kesalahan")}},w[14]=V,w[15]=Q,w[16]=A,w[17]=I,w[18]=me):me=w[18];const pe=me;let he;w[19]!==I?(he=e=>{const a=void 0===e?null:e;K(a),a?I.setFieldsValue(a):I.resetFields(),q(!0)},w[19]=I,w[20]=he):he=w[20];const xe=he;let ue;w[21]!==de||w[22]!==te||w[23]!==xe||w[24]!==G.borderRadiusLG||w[25]!==G.colorBorderSecondary||w[26]!==G.colorPrimary||w[27]!==G.colorPrimaryBg?(ue=e=>n.jsx(m,{hoverable:!0,style:{height:"100%",borderRadius:G.borderRadiusLG,border:`1px solid ${G.colorBorderSecondary}`},styles:{body:{padding:"16px"}},actions:[n.jsx(p,{title:"Edit Data",children:n.jsx(h,{type:"text",icon:n.jsx(j,{size:16,className:"text-yellow-600"}),onClick:()=>xe(e),block:!0})}),n.jsx(p,{title:"Hapus Data",children:n.jsx(f,{title:"Hapus Tingkat?",description:"Aksi ini tidak dapat dibatalkan.",onConfirm:()=>de(e.id),okText:"Ya",cancelText:"Batal",okButtonProps:{danger:!0,loading:te},children:n.jsx(h,{type:"text",danger:!0,icon:n.jsx(b,{size:16}),block:!0})})})],children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[n.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:G.colorPrimaryBg,display:"flex",alignItems:"center",justifyContent:"center",color:G.colorPrimary},children:n.jsx(g,{size:20})}),n.jsxs("div",{children:[n.jsx(T,{type:"secondary",style:{fontSize:12},children:"Tingkat Kelas"}),n.jsx("div",{style:{fontSize:18,fontWeight:"bold",lineHeight:1},children:e.name})]})]})}),w[21]=de,w[22]=te,w[23]=xe,w[24]=G.borderRadiusLG,w[25]=G.colorBorderSecondary,w[26]=G.colorPrimary,w[27]=G.colorPrimaryBg,w[28]=ue):ue=w[28];const ye=ue;let ge,je,fe;w[29]===Symbol.for("react.memo_cache_sentinel")?(ge={padding:"20px"},je={marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16},w[29]=ge,w[30]=je):(ge=w[29],je=w[30]),w[31]===Symbol.for("react.memo_cache_sentinel")?(fe=n.jsx(C,{level:4,style:{margin:0},children:"Daftar Tingkat"}),w[31]=fe):fe=w[31];const be=!!L.xs,ke=L.xs?"stretch":"center",Se=L.xs?"100%":"auto";let Be;w[32]!==Se?(Be={width:Se},w[32]=Se,w[33]=Be):Be=w[33];const _e=L.xs?"100%":260;let Te,Ce,we;w[34]!==_e?(Te=n.jsx(_,{placeholder:"Cari tingkat...",onSearch:le,allowClear:!0,style:{width:_e}}),w[34]=_e,w[35]=Te):Te=w[35],w[36]===Symbol.for("react.memo_cache_sentinel")?(Ce=n.jsx(k,{size:16}),w[36]=Ce):Ce=w[36],w[37]!==xe?(we=()=>xe(null),w[37]=xe,w[38]=we):we=w[38];const ve=L.xs?"100%":"auto";let Le,Ge,Ie,Pe,Re,ze,Fe;w[39]!==ve?(Le={width:ve},w[39]=ve,w[40]=Le):Le=w[40],w[41]!==we||w[42]!==Le?(Ge=n.jsx(h,{type:"primary",icon:Ce,onClick:we,style:Le,children:"Tambah"}),w[41]=we,w[42]=Le,w[43]=Ge):Ge=w[43],w[44]!==be||w[45]!==ke||w[46]!==Be||w[47]!==Te||w[48]!==Ge?(Ie=n.jsxs("div",{style:je,children:[fe,n.jsxs(x,{gap:8,vertical:be,align:ke,justify:"flex-end",style:Be,children:[Te,Ge]})]}),w[44]=be,w[45]=ke,w[46]=Be,w[47]=Te,w[48]=Ge,w[49]=Ie):Ie=w[49],w[50]!==G.borderRadiusLG||w[51]!==G.colorBgContainer?(Pe={background:G.colorBgContainer,padding:16,borderRadius:G.borderRadiusLG},w[50]=G.borderRadiusLG,w[51]=G.colorBgContainer,w[52]=Pe):Pe=w[52],w[53]===Symbol.for("react.memo_cache_sentinel")?(Re={gutter:[16,16],xs:24,sm:12,md:8,lg:6,xl:4,xxl:4},w[53]=Re):Re=w[53],w[54]!==M||w[55]!==oe||w[56]!==H||w[57]!==O||w[58]!==ye?(ze=n.jsx(y,{data:M,loading:O,hasMore:H,onLoadMore:oe,renderItem:ye,emptyText:"Belum ada data tingkat kelas",grid:Re}),w[54]=M,w[55]=oe,w[56]=H,w[57]=O,w[58]=ye,w[59]=ze):ze=w[59],w[60]!==Pe||w[61]!==ze?(Fe=n.jsx("div",{style:Pe,children:ze}),w[60]=Pe,w[61]=ze,w[62]=Fe):Fe=w[62];const De=A?"Edit Grade":"Tambah Grade Baru";let Me,Ee,He,Ne,Xe;w[63]===Symbol.for("react.memo_cache_sentinel")?(Me=()=>q(!1),w[63]=Me):Me=w[63],w[64]===Symbol.for("react.memo_cache_sentinel")?(Ee=[{required:!0,message:"Harap isi nama tingkat!"}],w[64]=Ee):Ee=w[64],w[65]===Symbol.for("react.memo_cache_sentinel")?(He=n.jsx(t.Item,{label:"Nama Tingkat",name:"name",rules:Ee,help:"Contoh: X, XI, XII, atau 1, 2, 3",children:n.jsx(l,{placeholder:"Masukkan nama..."})}),Ne={display:"flex",justifyContent:"flex-end",gap:8,marginTop:24},w[65]=He,w[66]=Ne):(He=w[65],Ne=w[66]),w[67]===Symbol.for("react.memo_cache_sentinel")?(Xe=n.jsx(h,{onClick:()=>q(!1),children:"Batal"}),w[67]=Xe):Xe=w[67];const qe=$||Z;let Ae,Ke,We,Je,Oe;return w[68]!==$||w[69]!==Z?(Ae=$||Z?n.jsx(S,{className:"animate-spin",size:16}):null,w[68]=$,w[69]=Z,w[70]=Ae):Ae=w[70],w[71]!==qe||w[72]!==Ae?(Ke=n.jsxs("div",{style:Ne,children:[Xe,n.jsx(h,{type:"primary",htmlType:"submit",loading:qe,icon:Ae,children:"Simpan"})]}),w[71]=qe,w[72]=Ae,w[73]=Ke):Ke=w[73],w[74]!==I||w[75]!==pe||w[76]!==Ke?(We=n.jsxs(t,{form:I,layout:"vertical",onFinish:pe,children:[He,Ke]}),w[74]=I,w[75]=pe,w[76]=Ke,w[77]=We):We=w[77],w[78]!==X||w[79]!==De||w[80]!==We?(Je=n.jsx(B,{title:De,open:X,onCancel:Me,footer:null,destroyOnHidden:!0,children:We}),w[78]=X,w[79]=De,w[80]=We,w[81]=Je):Je=w[81],w[82]!==Ie||w[83]!==Fe||w[84]!==Je?(Oe=n.jsxs("div",{style:ge,children:[Ie,Fe,Je]}),w[82]=Ie,w[83]=Fe,w[84]=Je,w[85]=Oe):Oe=w[85],Oe};function v(e){return e+1}export{w as default};
