const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TeacherView-D44SObCW.js","assets/charts-4CCI6hAs.js","assets/vendor-kOq7Q5-U.js","assets/index-DJgzJvx0.js","assets/index-DOw7bMS2.css","assets/book-open-Bg2XmE5G.js","assets/circle-check-big-D25bT2vM.js","assets/AdminView-BVbsO-_V.js"])))=>i.map(i=>d[i]);
import{m as e}from"./charts-4CCI6hAs.js";import{k as s,l as a,b8 as r,o as n,s as t,a0 as i,w as l,C as o,aL as c,T as d,X as m,B as j,x as h}from"./index-DJgzJvx0.js";import{T as x,r as p}from"./vendor-kOq7Q5-U.js";import{B as f}from"./index-B466D75m.js";import{E as u}from"./index-CsPvpU6M.js";import{B as g}from"./book-open-Bg2XmE5G.js";import{T as y}from"./index-A8UrXWNV.js";import{L as b}from"./layers-BM2-Q3cP.js";import{U as _}from"./users-DP4QiVnj.js";import{G as w}from"./graduation-cap-DX8X8xmD.js";import{A as S}from"./arrow-left-DYE7YoY3.js";import{S as v}from"./search-DCbkSk8T.js";import"./useClosable-BMlLLbW6.js";const z=p.lazy(()=>e(()=>import("./TeacherView-D44SObCW.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),R=p.lazy(()=>e(()=>import("./AdminView-BVbsO-_V.js"),__vite__mapDeps([7,1,2,3,4]))),{Title:k,Text:C}=d,L=()=>{const e=s.c(49),{user:d}=a(T),L="teacher"===d?.role,B="admin"===d?.role,[I,E]=x();let K;e[0]!==I?(K=I.get("view"),e[0]=I,e[1]=K):K=e[1];const P=K;let D;e[2]!==I?(D=I.get("subject_id"),e[2]=I,e[3]=D):D=e[3];const V=D,[M,O]=p.useState(""),{data:U,isLoading:G}=r();let W;e[4]!==U?.data?(W=U?.data||[],e[4]=U?.data,e[5]=W):W=e[5];const X=W;let Z;e:{if(!M){Z=X;break e}let s;if(e[6]!==M||e[7]!==X){const a=M.toLowerCase();s=X.filter(e=>{const s=e?.name?.toLowerCase()||"",r=e?.code?.toLowerCase()||"",n=e?.category_name?.toLowerCase()||"",t=e?.branch_name?.toLowerCase()||"";return s.includes(a)||r.includes(a)||n.includes(a)||t.includes(a)}),e[6]=M,e[7]=X,e[8]=s}else s=e[8];Z=s}const q=Z,F=B?"Admin":"Guru",H=B?"Menampilkan semua pelajaran pada satuan Anda.":"Menampilkan pelajaran yang Anda ampu.";let J;e[9]!==E?(J=(e,s)=>{E({view:e,subject_id:s})},e[9]=E,e[10]=J):J=e[10];const N=J;let Q,Y,$,ee,se,ae,re,ne;e[11]===Symbol.for("react.memo_cache_sentinel")?(Q=n.jsx("title",{children:"Daftar Pelajaran"}),e[11]=Q):Q=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(Y={body:{padding:20}},$={borderRadius:14,border:"1px solid #f0f0f0"},e[12]=Y,e[13]=$):(Y=e[12],$=e[13]),e[14]===Symbol.for("react.memo_cache_sentinel")?(ee={width:46,height:46,borderRadius:12,background:"#e6f4ff",display:"flex",alignItems:"center",justifyContent:"center"},e[14]=ee):ee=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(se=n.jsx("div",{style:ee,children:n.jsx(w,{size:22,style:{color:"#1677ff"}})}),e[15]=se):se=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(ae=n.jsx(k,{level:4,style:{margin:0},children:"Daftar Pelajaran"}),e[16]=ae):ae=e[16],e[17]!==H?(re=n.jsxs(m,{size:12,align:"center",children:[se,n.jsxs("div",{children:[ae,n.jsx(C,{type:"secondary",children:H})]})]}),e[17]=H,e[18]=re):re=e[18],e[19]!==E||e[20]!==V||e[21]!==P?(ne=P&&V&&n.jsx(j,{icon:n.jsx(S,{size:16}),onClick:()=>E({}),children:"Kembali"}),e[19]=E,e[20]=V,e[21]=P,e[22]=ne):ne=e[22];const te=B?"#1677ff":"#52c41a",ie=B?"blue":"green";let le,oe,ce,de,me,je,he,xe;return e[23]===Symbol.for("react.memo_cache_sentinel")?(le={borderRadius:999,padding:"4px 12px",fontWeight:600},e[23]=le):le=e[23],e[24]!==F||e[25]!==ie?(oe=n.jsx(y,{color:ie,style:le,children:F}),e[24]=F,e[25]=ie,e[26]=oe):oe=e[26],e[27]!==q.length||e[28]!==te||e[29]!==oe?(ce=n.jsx(f,{count:q.length,color:te,showZero:!0,children:oe}),e[27]=q.length,e[28]=te,e[29]=oe,e[30]=ce):ce=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(de=n.jsx(h,{allowClear:!0,placeholder:"Cari pelajaran...",prefix:n.jsx(v,{size:16,style:{color:"#8c8c8c"}}),style:{width:260},onChange:e=>O(e.target.value)}),e[31]=de):de=e[31],e[32]!==ne||e[33]!==ce?(me=n.jsxs(m,{wrap:!0,size:12,children:[ne,ce,de]}),e[32]=ne,e[33]=ce,e[34]=me):me=e[34],e[35]!==re||e[36]!==me?(je=n.jsx(t,{styles:Y,style:$,children:n.jsxs(c,{justify:"space-between",align:"center",wrap:"wrap",gap:12,children:[re,me]})}),e[35]=re,e[36]=me,e[37]=je):je=e[37],e[38]!==q||e[39]!==N||e[40]!==G||e[41]!==L||e[42]!==V||e[43]!==X||e[44]!==P?(he=P&&V?n.jsx(p.Suspense,{fallback:n.jsx(t,{style:{borderRadius:12},children:n.jsx(i,{active:!0,paragraph:{rows:4}})}),children:L?n.jsx(z,{subjectId:V,subject:X.find(e=>String(e.id)===String(V))}):n.jsx(R,{subjectId:V,subject:X.find(e=>String(e.id)===String(V))})}):G?n.jsx(l,{gutter:[16,16],children:[1,2,3,4,5,6].map(A)}):0===q.length?n.jsx(t,{style:{borderRadius:12},children:n.jsx(u,{description:L?"Belum ada pelajaran yang Anda ampu.":"Belum ada pelajaran terdaftar."})}):n.jsx(l,{gutter:[16,16],children:q.map(e=>n.jsx(o,{xs:24,sm:12,lg:8,xl:6,children:n.jsx(t,{hoverable:!0,onClick:()=>N(L?"teacher":"admin",e.id),style:{borderRadius:14,height:"100%"},styles:{body:{padding:18}},children:n.jsxs(c,{vertical:!0,gap:12,children:[n.jsxs(c,{align:"center",gap:12,children:[n.jsx("div",{style:{width:38,height:38,borderRadius:10,background:"#f6ffed",display:"flex",alignItems:"center",justifyContent:"center",color:"#52c41a"},children:n.jsx(g,{size:18})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx(C,{strong:!0,style:{fontSize:15,display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:e.name,children:e.name}),n.jsxs(C,{type:"secondary",style:{fontSize:12},children:["Kode: ",e.code||"-"]})]})]}),n.jsxs(m,{size:[8,8],wrap:!0,children:[n.jsx(y,{color:"geekblue",style:{borderRadius:999,marginRight:0},icon:n.jsx(b,{size:14}),children:e.category_name||"Umum"}),e.branch_name&&n.jsx(y,{color:"cyan",style:{borderRadius:999,marginRight:0},icon:n.jsx(b,{size:14}),children:e.branch_name})]}),n.jsxs(c,{justify:"space-between",align:"center",children:[n.jsxs(C,{type:"secondary",style:{fontSize:12},children:["KKM: ",e.kkm??"-"]}),L&&e.class_names?.length>0&&n.jsxs(y,{color:"green",style:{borderRadius:999,marginRight:0},icon:n.jsx(_,{size:14}),children:[e.class_names.length," Kelas"]})]}),L&&e.class_names?.length>0&&n.jsx(C,{type:"secondary",style:{fontSize:12},children:e.class_names.join(", ")})]})})},e.id))}),e[38]=q,e[39]=N,e[40]=G,e[41]=L,e[42]=V,e[43]=X,e[44]=P,e[45]=he):he=e[45],e[46]!==je||e[47]!==he?(xe=n.jsxs(c,{vertical:!0,gap:20,children:[Q,je,he]}),e[46]=je,e[47]=he,e[48]=xe):xe=e[48],xe};function T(e){return e.auth}function A(e){return n.jsx(o,{xs:24,sm:12,lg:8,xl:6,children:n.jsx(t,{style:{borderRadius:12},children:n.jsx(i,{active:!0,paragraph:{rows:3}})})},e)}export{L as default};
