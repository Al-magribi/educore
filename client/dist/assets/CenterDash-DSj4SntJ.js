import{I as e,k as t,D as s,o as a,T as r,p as n,C as i,s as l,E as c,w as o}from"./index-TxbSs64b.js";import{r as d}from"./vendor-kOq7Q5-U.js";import{P as m}from"./progress-CYJvZuq8.js";import{A as x}from"./index-4D19nP98.js";import{S as h}from"./index-Cv0kXVkw.js";import{S as f}from"./index-CsR5lVa_.js";import{R as j,a as u}from"./TeamOutlined-DSmtsgHN.js";import{F as p}from"./Table-5UQz8Zyj.js";import{T as y}from"./index-Dj0znD7j.js";import"./charts-DTgBacDZ.js";import"./index-B7bzky1V.js";import"./index-CVJ5d8Nu.js";import"./index-DzmOk-l_.js";import"./useClosable-y2z-qVwf.js";var g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_.apply(this,arguments)}const v=(t,s)=>d.createElement(e,_({},t,{ref:s,icon:g})),b=d.forwardRef(v),{Title:S,Text:w}=r,k=()=>{const e=t.c(43),{data:r,isLoading:d,isError:y}=s();let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},e[0]=g):g=e[0];const _=g;if(d){let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx(a.Fragment,{children:a.jsx("div",{style:{textAlign:"center",padding:50},children:a.jsx(h,{size:"large"})})}),e[1]=t):t=e[1],t}if(y){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx(a.Fragment,{children:a.jsx(x,{message:"Gagal memuat data",type:"error",showIcon:!0})}),e[2]=t):t=e[2],t}let v;e[3]!==r?.attendance?(v=r?.attendance.reduce(I,0)||0,e[3]=r?.attendance,e[4]=v):v=e[4];const S=v;let k;e[5]===Symbol.for("react.memo_cache_sentinel")?(k=[{title:"Waktu",dataIndex:"created_at",key:"created_at",render:T},{title:"User",dataIndex:"full_name",key:"full_name",render:z},{title:"Aktivitas",dataIndex:"action",key:"action",render:A}],e[5]=k):k=e[5];const C=k;let H,B,F;e[6]===Symbol.for("react.memo_cache_sentinel")?(H={padding:"0 10px"},e[6]=H):H=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(B=[16,16],F={marginBottom:24},e[7]=B,e[8]=F):(B=e[7],F=e[8]);const O=r?.stats?.students||0;let E,M;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(n,{style:{color:"#1890ff"}}),e[9]=E):E=e[9],e[10]!==O?(M=a.jsx(i,{xs:24,sm:12,md:6,children:a.jsx(l,{style:_,children:a.jsx(f,{title:"Total Siswa",value:O,prefix:E})})}),e[10]=O,e[11]=M):M=e[11];const D=r?.stats?.teachers||0;let R,G;e[12]===Symbol.for("react.memo_cache_sentinel")?(R=a.jsx(j,{style:{color:"#52c41a"}}),e[12]=R):R=e[12],e[13]!==D?(G=a.jsx(i,{xs:24,sm:12,md:6,children:a.jsx(l,{style:_,children:a.jsx(f,{title:"Total Guru",value:D,prefix:R})})}),e[13]=D,e[14]=G):G=e[14];const K=r?.stats?.activeExams||0;let L,P;e[15]===Symbol.for("react.memo_cache_sentinel")?(L=a.jsx(u,{style:{color:"#faad14"}}),e[15]=L):L=e[15],e[16]!==K?(P=a.jsx(i,{xs:24,sm:12,md:6,children:a.jsx(l,{style:_,children:a.jsx(f,{title:"Ujian Aktif (CBT)",value:K,prefix:L})})}),e[16]=K,e[17]=P):P=e[17];const U=r?.stats?.tahfizToday||0;let q,V,W,J,N,Q,X,Y,Z,$,ee;return e[18]===Symbol.for("react.memo_cache_sentinel")?(q=a.jsx(c,{style:{color:"#722ed1"}}),e[18]=q):q=e[18],e[19]!==U?(V=a.jsx(i,{xs:24,sm:12,md:6,children:a.jsx(l,{style:_,children:a.jsx(f,{title:"Setoran Tahfiz (Hari Ini)",value:U,prefix:q})})}),e[19]=U,e[20]=V):V=e[20],e[21]!==G||e[22]!==P||e[23]!==V||e[24]!==M?(W=a.jsxs(o,{gutter:B,style:F,children:[M,G,P,V]}),e[21]=G,e[22]=P,e[23]=V,e[24]=M,e[25]=W):W=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(J=[24,24],e[26]=J):J=e[26],e[27]!==r||e[28]!==S?(N=r?.attendance?.length>0?r.attendance.map((e,t)=>{const s=S>0?(parseInt(e.count)/S*100).toFixed(1):0;let r="#1890ff";return"Sakit"===e.status&&(r="#faad14"),"Izin"===e.status&&(r="#13c2c2"),"Alpha"===e.status&&(r="#ff4d4f"),a.jsxs("div",{style:{marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx(w,{children:e.status}),a.jsxs(w,{strong:!0,children:[e.count," Siswa"]})]}),a.jsx(m,{percent:s,strokeColor:r,size:"small"})]},t)}):a.jsx(x,{title:"Belum ada data presensi hari ini",type:"info",showIcon:!0}),e[27]=r,e[28]=S,e[29]=N):N=e[29],e[30]!==N?(Q=a.jsx(i,{xs:24,lg:10,children:a.jsx(l,{title:"Kehadiran Hari Ini",style:_,children:N})}),e[30]=N,e[31]=Q):Q=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(X=a.jsxs("span",{children:[a.jsx(b,{})," Aktivitas Sistem Terakhir"]}),e[32]=X):X=e[32],e[33]!==r?.logs?(Y=r?.logs||[],e[33]=r?.logs,e[34]=Y):Y=e[34],e[35]!==Y?(Z=a.jsx(i,{xs:24,lg:14,children:a.jsx(l,{title:X,style:_,children:a.jsx(p,{dataSource:Y,columns:C,pagination:!1,rowKey:"created_at",size:"small"})})}),e[35]=Y,e[36]=Z):Z=e[36],e[37]!==Q||e[38]!==Z?($=a.jsxs(o,{gutter:J,children:[Q,Z]}),e[37]=Q,e[38]=Z,e[39]=$):$=e[39],e[40]!==W||e[41]!==$?(ee=a.jsx(a.Fragment,{children:a.jsxs("div",{style:H,children:[W,$]})}),e[40]=W,e[41]=$,e[42]=ee):ee=e[42],ee};function I(e,t){return e+parseInt(t.count)}function T(e){return new Date(e).toLocaleString("id-ID")}function z(e){return a.jsx(w,{strong:!0,children:e})}function A(e){return a.jsx(y,{color:"blue",children:e})}export{k as default};
