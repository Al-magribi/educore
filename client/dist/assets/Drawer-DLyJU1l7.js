import{r as e,R as t}from"./vendor-kOq7Q5-U.js";import{d9 as o,bT as n,a,a3 as r,bV as s,da as i,a7 as l,a5 as c,a6 as d,f as u,u as p,a0 as m,g as f,b as g,d as h,a$ as b,cz as y,cu as x,a9 as $,c$ as v,di as w,aa as S,au as C}from"./index-TxbSs64b.js";import{a as k,u as z}from"./context-K0_FAUKW.js";import{u as E,p as N}from"./useClosable-y2z-qVwf.js";import{u as D}from"./ActionButton-4PjL455O.js";const R=e.createContext(null),I=e.createContext({});function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},M.apply(this,arguments)}const O=t=>{const{prefixCls:r,className:s,containerRef:i,...l}=t,{panel:c}=e.useContext(I),d=o(c,i);return e.createElement("div",M({className:a(`${r}-section`,s),role:"dialog",ref:d},n(t,{aria:!0}),{"aria-modal":"true"},l))};function P(e){if("string"==typeof e){const t=Number(e.replace(/px$/i,""));if(parseFloat(e)===t&&s(!1,"Invalid value type of `width` or `height` which should be number type instead."),!Number.isNaN(t))return t}return e}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},L.apply(this,arguments)}const j=(o,s)=>{const{prefixCls:c,open:d,placement:u,inline:p,push:m,forceRender:f,autoFocus:g,focusTrap:h,classNames:b,rootClassName:y,rootStyle:x,zIndex:$,className:v,id:w,style:S,motion:C,width:k,height:z,size:E,maxSize:N,children:D,mask:I,maskClosable:M,maskMotion:j,maskClassName:B,maskStyle:H,afterOpenChange:T,onClose:W,onMouseEnter:X,onMouseOver:A,onMouseLeave:K,onClick:F,onKeyDown:U,onKeyUp:Y,styles:_,drawerRender:G,resizable:q,defaultSize:V}=o,J=e.useRef(null);e.useImperativeHandle(s,()=>J.current),function(e,o,n,a,r){i(o&&(a??!1!==r),e),t.useEffect(()=>{o&&!0===n&&e()?.focus({preventScroll:!0})},[o])}(()=>J.current,d,g,h,I);const[Q,Z]=e.useState(!1),ee=e.useContext(R);let te;te="boolean"==typeof m?m?{}:{distance:0}:m||{};const oe=te?.distance??ee?.pushDistance??180,ne=e.useMemo(()=>({pushDistance:oe,push:()=>{Z(!0)},pull:()=>{Z(!1)}}),[oe]);e.useEffect(()=>{d?ee?.push?.():ee?.pull?.()},[d]),e.useEffect(()=>()=>{ee?.pull?.()},[]);const ae=e.createElement(l,L({key:"mask"},j,{visible:I&&d}),({className:t,style:o},n)=>e.createElement("div",{className:a(`${c}-mask`,t,b?.mask,B),style:{...o,...H,..._?.mask},onClick:M&&d?W:void 0,ref:n})),re="function"==typeof C?C(u):C,[se,ie]=e.useState(),le="left"===u||"right"===u,ce=e.useMemo(()=>P(E??(le?k:z)??se??V??(le?378:void 0)),[E,k,z,V,le,se]),de=e.useMemo(()=>{const e={};if(Q&&oe)switch(u){case"top":e.transform=`translateY(${oe}px)`;break;case"bottom":e.transform=`translateY(${-oe}px)`;break;case"left":e.transform=`translateX(${oe}px)`;break;default:e.transform=`translateX(${-oe}px)`}return le?e.width=P(ce):e.height=P(ce),e},[Q,oe,u,le,ce]),ue=e.useRef(null),pe=!!q,me="object"==typeof q&&q||{},fe=r(e=>{ie(e),me.onResize?.(e)}),{dragElementProps:ge,isDragging:he}=function(t){const{prefixCls:o,direction:n,className:s,style:i,maxSize:l,containerRef:c,currentSize:d,onResize:u,onResizeEnd:p,onResizeStart:m}=t,[f,g]=e.useState(!1),[h,b]=e.useState(0),[y,x]=e.useState(0),$="left"===n||"right"===n,v=r(e=>{let t;if(e.preventDefault(),e.stopPropagation(),g(!0),b($?e.clientX:e.clientY),"number"==typeof d)t=d;else if(c?.current){const e=c.current.getBoundingClientRect();t=$?e.width:e.height}x(t),m?.(t)}),w=r(e=>{if(!f)return;let t=($?e.clientX:e.clientY)-h;"right"!==n&&"bottom"!==n||(t=-t);let o=y+t;o<0&&(o=0),l&&o>l&&(o=l),u?.(o)}),S=e.useCallback(()=>{if(f&&(g(!1),c?.current)){const e=c.current.getBoundingClientRect(),t=$?e.width:e.height;p?.(t)}},[f,c,p,$]);return e.useEffect(()=>{if(f)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S)}},[f,w,S]),{dragElementProps:{className:a(`${o}-dragger`,`${o}-dragger-${n}`,{[`${o}-dragger-dragging`]:f,[`${o}-dragger-horizontal`]:$,[`${o}-dragger-vertical`]:!$},s),style:i,onMouseDown:v},isDragging:f}}({prefixCls:`${c}-resizable`,direction:u,className:b?.dragger,style:_?.dragger,maxSize:N,containerRef:ue,currentSize:ce,onResize:fe,onResizeStart:me.onResizeStart,onResizeEnd:me.onResizeEnd}),be={onMouseEnter:X,onMouseOver:A,onMouseLeave:K,onClick:F,onKeyDown:U,onKeyUp:Y},ye=e.createElement(l,L({key:"panel"},re,{visible:d,forceRender:f,onVisibleChanged:T,removeOnLeave:!1,leavedClassName:`${c}-content-wrapper-hidden`}),({className:t,style:r},s)=>{const i=e.createElement(O,L({id:w,containerRef:s,prefixCls:c,className:a(v,b?.section),style:{...S,..._?.section}},n(o,{aria:!0}),be),D);return e.createElement("div",L({ref:ue,className:a(`${c}-content-wrapper`,he&&`${c}-content-wrapper-dragging`,b?.wrapper,!he&&t),style:{...r,...de,..._?.wrapper}},n(o,{data:!0})),pe&&e.createElement("div",ge),G?G(i):i)}),xe={...x};return $&&(xe.zIndex=$),e.createElement(R.Provider,{value:ne},e.createElement("div",{className:a(c,`${c}-${u}`,y,{[`${c}-open`]:d,[`${c}-inline`]:p}),style:xe,tabIndex:-1,ref:J},ae,ye))},B=e.forwardRef(j),H=t=>{const{open:o=!1,prefixCls:n="rc-drawer",placement:a="right",autoFocus:r=!0,keyboard:s=!0,width:i,height:l,size:u,maxSize:p,mask:m=!0,maskClosable:f=!0,getContainer:g,forceRender:h,afterOpenChange:b,destroyOnHidden:y,onMouseEnter:x,onMouseOver:$,onMouseLeave:v,onClick:w,onKeyDown:S,onKeyUp:C,onClose:k,resizable:z,defaultSize:E,focusTriggerAfterClose:N,panelRef:D}=t,[R,M]=e.useState(!1),[O,P]=e.useState(!1);c(()=>{P(!0)},[]);const L=!!O&&o,j=e.useRef(null),H=e.useRef(null);c(()=>{L&&(H.current=document.activeElement)},[L]);const T=e.useMemo(()=>({panel:D}),[D]);if(!h&&!R&&!L&&y)return null;const W={onMouseEnter:x,onMouseOver:$,onMouseLeave:v,onClick:w,onKeyDown:S,onKeyUp:C},X={...t,open:L,prefixCls:n,placement:a,autoFocus:r,keyboard:s,width:i,height:l,size:u,maxSize:p,defaultSize:E,mask:m,maskClosable:f,inline:!1===g,afterOpenChange:e=>{M(e),b?.(e),e||!1===N||!H.current||j.current?.contains(H.current)||H.current?.focus({preventScroll:!0})},ref:j,resizable:z,...W};return e.createElement(I.Provider,{value:T},e.createElement(d,{open:L||h||R,autoDestroy:!1,getContainer:g,autoLock:m&&(L||R),onEsc:({top:e,event:t})=>{e&&s&&(t.stopPropagation(),k?.(t))}},e.createElement(B,X)))},T=t=>{const{prefixCls:o,ariaId:n,title:r,footer:s,extra:i,closable:l,loading:c,onClose:d,headerStyle:f,bodyStyle:g,footerStyle:h,children:b,classNames:y,styles:x}=t,$=u("drawer"),{classNames:v,styles:w,closable:S}=$,[C,k]=p([v,y],[w,x],{props:{...t,closable:l??S}}),z=e.useMemo(()=>{const e=l??S;if(!1!==e)return"object"==typeof e&&e&&"end"===e.placement?"end":"start"},[l,S]),D=e.useCallback(t=>e.createElement("button",{type:"button",onClick:d,className:a(`${o}-close`,{[`${o}-close-${z}`]:"end"===z},C.close),style:k.close},t),[d,o,z,C.close,k.close]),[R,I]=E(N(t),N($),{closable:!0,closeIconRender:D});return e.createElement(e.Fragment,null,r||R?e.createElement("div",{style:{...k.header,...f},className:a(`${o}-header`,C.header,{[`${o}-header-close-only`]:R&&!r&&!i})},e.createElement("div",{className:`${o}-header-title`},"start"===z&&I,r&&e.createElement("div",{className:a(`${o}-title`,C.title),style:k.title,id:n},r)),i&&e.createElement("div",{className:a(`${o}-extra`,C.extra),style:k.extra},i),"end"===z&&I):null,e.createElement("div",{className:a(`${o}-body`,C.body),style:{...k.body,...g}},c?e.createElement(m,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):b),s?e.createElement("div",{className:a(`${o}-footer`,C.footer),style:{...k.footer,...h}},s):null)},W=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},X=(e,t)=>({"&-enter, &-appear":{...e,"&-active":t},"&-leave":{...t,"&-active":e}}),A=(e,t)=>({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}},...X({opacity:e},{opacity:1})}),K=(e,t)=>[A(.7,t),X({transform:W(e)},{transform:"none"})],F=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:A(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((e,t)=>({...e,[`&-${t}`]:K(t,o)}),{})}}},U=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:n,colorBgMask:a,colorBgElevated:r,motionDurationSlow:s,motionDurationMid:i,paddingXS:l,padding:c,paddingLG:d,fontSizeLG:u,lineHeightLG:p,lineWidth:m,lineType:f,colorSplit:g,marginXS:y,colorIcon:x,colorIconHover:$,colorBgTextHover:v,colorBgTextActive:w,colorText:S,fontWeightStrong:C,footerPaddingBlock:k,footerPaddingInline:z,draggerSize:E,calc:N}=e,D=`${o}-content-wrapper`,R=`${o}-resizable-dragger`;return{[o]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none",color:S,"&-pure":{position:"relative",background:r,display:"flex",flexDirection:"column",pointerEvents:"auto",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:n,background:a,pointerEvents:"auto",[`&${o}-mask-blur`]:{backdropFilter:"blur(4px)"}},[D]:{position:"absolute",zIndex:n,maxWidth:"100vw",transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${D}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${D}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${D}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${D}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-section`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:r,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${h(c)} ${h(d)}`,fontSize:u,lineHeight:p,borderBottom:`${h(m)} ${f} ${g}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:{display:"inline-flex",width:N(u).add(l).equal(),height:N(u).add(l).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",color:x,fontWeight:C,fontSize:u,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${i}`,textRendering:"auto",[`&${o}-close-end`]:{marginInlineStart:y},[`&:not(${o}-close-end)`]:{marginInlineEnd:y},"&:hover":{color:$,backgroundColor:v,textDecoration:"none"},"&:active":{backgroundColor:w},...b(e)},[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:u,lineHeight:p},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:d,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${h(k)} ${h(z)}`,borderTop:`${h(m)} ${f} ${g}`},[R]:{position:"absolute",zIndex:1,backgroundColor:"transparent",userSelect:"none",pointerEvents:"auto","&:hover":{backgroundColor:e.colorPrimary,opacity:.2},"&-dragging":{backgroundColor:e.colorPrimary,opacity:.3}},[`${R}-left`]:{top:0,bottom:0,insetInlineEnd:0,width:E,cursor:"col-resize"},[`${R}-right`]:{top:0,bottom:0,insetInlineStart:0,width:E,cursor:"col-resize"},[`${R}-top`]:{insetInline:0,bottom:0,height:E,cursor:"row-resize"},[`${R}-bottom`]:{insetInline:0,top:0,height:E,cursor:"row-resize"},[`${D}-dragging`]:{userSelect:"none",transition:"none",willChange:"width, height",[`${o}-content`]:{pointerEvents:"none"},[`${o}-section`]:{pointerEvents:"none"}},"&-rtl":{direction:"rtl"}}}},Y=f("Drawer",e=>{const t=g(e,{});return[U(t),F(t)]},e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding,draggerSize:4})),_={distance:180},G=378,q=t=>{const{rootClassName:o,size:n,defaultSize:r=G,height:s,width:i,mask:l,push:c=_,open:d,afterOpenChange:m,onClose:f,prefixCls:g,getContainer:h,panelRef:b=null,style:C,className:E,resizable:N,"aria-labelledby":R,focusable:I,maskStyle:M,drawerStyle:O,contentWrapperStyle:P,destroyOnClose:L,destroyOnHidden:j,...B}=t,{placement:W}=B,X=y(),A=B.title?X:void 0,{getPopupContainer:K,getPrefixCls:F,direction:U,className:q,style:V,classNames:J,styles:Q,mask:Z}=u("drawer"),ee=F("drawer",g),[te,oe]=Y(ee),ne=void 0===h&&K?()=>K(document.body):h,ae=e.useMemo(()=>"number"==typeof n?n:"large"===n?736:"default"===n?G:"string"==typeof n?/^\d+(\.\d+)?$/.test(n)?Number(n):n:W&&"left"!==W&&"right"!==W?s:i,[n,W,i,s]),re={motionName:S(ee,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},se=k(),ie=x(b,se),[le,ce]=$("Drawer",B.zIndex),[de,ue]=D(l,Z,ee),pe=z(I,!1!==ne&&de),{classNames:me,styles:fe,rootStyle:ge}=B,he={...t,zIndex:le,panelRef:b,mask:de,defaultSize:r,push:c,focusable:pe},[be,ye]=p([J,me],[Q,fe],{props:he}),xe=a({"no-mask":!de,[`${ee}-rtl`]:"rtl"===U},o,te,oe,be.root);return e.createElement(v,{form:!0,space:!0},e.createElement(w.Provider,{value:ce},e.createElement(H,{prefixCls:ee,onClose:f,maskMotion:re,motion:e=>({motionName:S(ee,`panel-motion-${e}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),...B,classNames:{mask:a(be.mask,ue.mask),section:be.section,wrapper:be.wrapper,dragger:be.dragger},styles:{mask:{...ye.mask,...M},section:{...ye.section,...O},wrapper:{...ye.wrapper,...P},dragger:ye.dragger},open:d,mask:de,push:c,size:ae,defaultSize:r,style:{...V,...C},rootStyle:{...ge,...ye.root},className:a(q,E),rootClassName:xe,getContainer:ne,afterOpenChange:m,panelRef:ie,zIndex:le,...N?{resizable:N}:{},"aria-labelledby":R??A,destroyOnHidden:j??L,focusTriggerAfterClose:pe.focusTriggerAfterClose,focusTrap:pe.trap},e.createElement(T,{prefixCls:ee,size:n,...B,ariaId:A,onClose:f}))))};q._InternalPanelDoNotUseOrYouWillBeFired=t=>{const{prefixCls:o,style:n,className:r,placement:s="right",...i}=t,{getPrefixCls:l}=e.useContext(C),c=l("drawer",o),[d,u]=Y(c),p=a(c,`${c}-pure`,`${c}-${s}`,d,u,r);return e.createElement("div",{className:p,style:n},e.createElement(T,{prefixCls:c,...i}))};export{q as D};
