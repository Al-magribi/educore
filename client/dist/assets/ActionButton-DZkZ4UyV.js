import{r as e}from"./vendor-kOq7Q5-U.js";import{dM as r,B as t,dz as n}from"./index-DJgzJvx0.js";const u=e=>"function"==typeof e?.then,i=i=>{const{type:o,children:l,prefixCls:s,buttonProps:c,close:f,autoFocus:a,emitEvent:p,isSilent:d,quitOnNullishReturnValue:m,actionFn:v}=i,h=e.useRef(!1),x=e.useRef(null),[j,y]=r(!1),C=(...e)=>{f?.(...e)};e.useEffect(()=>{let e=null;return a&&(e=setTimeout(()=>{x.current?.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[a]);return e.createElement(t,{...n(o),onClick:e=>{if(h.current)return;if(h.current=!0,!v)return void C();let r;if(p){if(r=v(e),m&&!u(r))return h.current=!1,void C(e)}else if(v.length)r=v(f),h.current=!1;else if(r=v(),!u(r))return void C();(e=>{u(e)&&(y(!0),e.then((...e)=>{y(!1,!0),C.apply(void 0,e),h.current=!1},e=>{if(y(!1,!0),h.current=!1,!d?.())return Promise.reject(e)}))})(r)},loading:j,prefixCls:s,...c,ref:x},l)};export{i as A};
