import{r as e,R as t}from"./vendor-kOq7Q5-U.js";import{cq as o,c2 as n,a as r,a3 as a,cr as s,cs as i,a7 as l,a5 as c,a6 as d,f as u,u as p,a0 as m,g as f,b as g,d as h,bl as b,ct as y,cu as x,a9 as v,cv as $,cw as w,aa as S,at as C}from"./index-DJgzJvx0.js";import{u as k,a as z}from"./context-Co2t6AGx.js";import{u as E,p as N}from"./useClosable-BMlLLbW6.js";import{u as R}from"./useMergedMask-hWGqm8nf.js";const D=e.createContext(null),I=e.createContext({});function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},M.apply(this,arguments)}const O=t=>{const{prefixCls:a,className:s,containerRef:i,...l}=t,{panel:c}=e.useContext(I),d=o(c,i);return e.createElement("div",M({className:r(`${a}-section`,s),role:"dialog",ref:d},n(t,{aria:!0}),{"aria-modal":"true"},l))};function P(e){if("string"==typeof e){const t=Number(e.replace(/px$/i,""));if(parseFloat(e)===t&&s(!1,"Invalid value type of `width` or `height` which should be number type instead."),!Number.isNaN(t))return t}return e}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},L.apply(this,arguments)}const j=(o,s)=>{const{prefixCls:c,open:d,placement:u,inline:p,push:m,forceRender:f,autoFocus:g,focusTrap:h,classNames:b,rootClassName:y,rootStyle:x,zIndex:v,className:$,id:w,style:S,motion:C,width:k,height:z,size:E,maxSize:N,children:R,mask:I,maskClosable:M,maskMotion:j,maskClassName:H,maskStyle:B,afterOpenChange:T,onClose:W,onMouseEnter:K,onMouseOver:X,onMouseLeave:A,onClick:F,onKeyDown:U,onKeyUp:Y,styles:_,drawerRender:q,resizable:G,defaultSize:J}=o,V=e.useRef(null);e.useImperativeHandle(s,()=>V.current),function(e,o,n,r,a){i(o&&(r??!1!==a),e),t.useEffect(()=>{o&&!0===n&&e()?.focus({preventScroll:!0})},[o])}(()=>V.current,d,g,h,I);const[Q,Z]=e.useState(!1),ee=e.useContext(D);let te;te="boolean"==typeof m?m?{}:{distance:0}:m||{};const oe=te?.distance??ee?.pushDistance??180,ne=e.useMemo(()=>({pushDistance:oe,push:()=>{Z(!0)},pull:()=>{Z(!1)}}),[oe]);e.useEffect(()=>{d?ee?.push?.():ee?.pull?.()},[d]),e.useEffect(()=>()=>{ee?.pull?.()},[]);const re=e.createElement(l,L({key:"mask"},j,{visible:I&&d}),({className:t,style:o},n)=>e.createElement("div",{className:r(`${c}-mask`,t,b?.mask,H),style:{...o,...B,..._?.mask},onClick:M&&d?W:void 0,ref:n})),ae="function"==typeof C?C(u):C,[se,ie]=e.useState(),le="left"===u||"right"===u,ce=e.useMemo(()=>P(E??(le?k:z)??se??J??(le?378:void 0)),[E,k,z,J,le,se]),de=e.useMemo(()=>{const e={};if(Q&&oe)switch(u){case"top":e.transform=`translateY(${oe}px)`;break;case"bottom":e.transform=`translateY(${-oe}px)`;break;case"left":e.transform=`translateX(${oe}px)`;break;default:e.transform=`translateX(${-oe}px)`}return le?e.width=P(ce):e.height=P(ce),e},[Q,oe,u,le,ce]),ue=e.useRef(null),pe=!!G,me="object"==typeof G&&G||{},fe=a(e=>{ie(e),me.onResize?.(e)}),{dragElementProps:ge,isDragging:he}=function(t){const{prefixCls:o,direction:n,className:s,style:i,maxSize:l,containerRef:c,currentSize:d,onResize:u,onResizeEnd:p,onResizeStart:m}=t,[f,g]=e.useState(!1),[h,b]=e.useState(0),[y,x]=e.useState(0),v="left"===n||"right"===n,$=a(e=>{let t;if(e.preventDefault(),e.stopPropagation(),g(!0),b(v?e.clientX:e.clientY),"number"==typeof d)t=d;else if(c?.current){const e=c.current.getBoundingClientRect();t=v?e.width:e.height}x(t),m?.(t)}),w=a(e=>{if(!f)return;let t=(v?e.clientX:e.clientY)-h;"right"!==n&&"bottom"!==n||(t=-t);let o=y+t;o<0&&(o=0),l&&o>l&&(o=l),u?.(o)}),S=e.useCallback(()=>{if(f&&(g(!1),c?.current)){const e=c.current.getBoundingClientRect(),t=v?e.width:e.height;p?.(t)}},[f,c,p,v]);return e.useEffect(()=>{if(f)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S)}},[f,w,S]),{dragElementProps:{className:r(`${o}-dragger`,`${o}-dragger-${n}`,{[`${o}-dragger-dragging`]:f,[`${o}-dragger-horizontal`]:v,[`${o}-dragger-vertical`]:!v},s),style:i,onMouseDown:$},isDragging:f}}({prefixCls:`${c}-resizable`,direction:u,className:b?.dragger,style:_?.dragger,maxSize:N,containerRef:ue,currentSize:ce,onResize:fe,onResizeStart:me.onResizeStart,onResizeEnd:me.onResizeEnd}),be={onMouseEnter:K,onMouseOver:X,onMouseLeave:A,onClick:F,onKeyDown:U,onKeyUp:Y},ye=e.createElement(l,L({key:"panel"},ae,{visible:d,forceRender:f,onVisibleChanged:T,removeOnLeave:!1,leavedClassName:`${c}-content-wrapper-hidden`}),({className:t,style:a},s)=>{const i=e.createElement(O,L({id:w,containerRef:s,prefixCls:c,className:r($,b?.section),style:{...S,..._?.section}},n(o,{aria:!0}),be),R);return e.createElement("div",L({ref:ue,className:r(`${c}-content-wrapper`,he&&`${c}-content-wrapper-dragging`,b?.wrapper,!he&&t),style:{...a,...de,..._?.wrapper}},n(o,{data:!0})),pe&&e.createElement("div",ge),q?q(i):i)}),xe={...x};return v&&(xe.zIndex=v),e.createElement(D.Provider,{value:ne},e.createElement("div",{className:r(c,`${c}-${u}`,y,{[`${c}-open`]:d,[`${c}-inline`]:p}),style:xe,tabIndex:-1,ref:V},re,ye))},H=e.forwardRef(j),B=t=>{const{open:o=!1,prefixCls:n="rc-drawer",placement:r="right",autoFocus:a=!0,keyboard:s=!0,width:i,height:l,size:u,maxSize:p,mask:m=!0,maskClosable:f=!0,getContainer:g,forceRender:h,afterOpenChange:b,destroyOnHidden:y,onMouseEnter:x,onMouseOver:v,onMouseLeave:$,onClick:w,onKeyDown:S,onKeyUp:C,onClose:k,resizable:z,defaultSize:E,focusTriggerAfterClose:N,panelRef:R}=t,[D,M]=e.useState(!1),[O,P]=e.useState(!1);c(()=>{P(!0)},[]);const L=!!O&&o,j=e.useRef(null),B=e.useRef(null);c(()=>{L&&(B.current=document.activeElement)},[L]);const T=e.useMemo(()=>({panel:R}),[R]);if(!h&&!D&&!L&&y)return null;const W={onMouseEnter:x,onMouseOver:v,onMouseLeave:$,onClick:w,onKeyDown:S,onKeyUp:C},K={...t,open:L,prefixCls:n,placement:r,autoFocus:a,keyboard:s,width:i,height:l,size:u,maxSize:p,defaultSize:E,mask:m,maskClosable:f,inline:!1===g,afterOpenChange:e=>{M(e),b?.(e),e||!1===N||!B.current||j.current?.contains(B.current)||B.current?.focus({preventScroll:!0})},ref:j,resizable:z,...W};return e.createElement(I.Provider,{value:T},e.createElement(d,{open:L||h||D,autoDestroy:!1,getContainer:g,autoLock:m&&(L||D),onEsc:({top:e,event:t})=>{e&&s&&(t.stopPropagation(),k?.(t))}},e.createElement(H,K)))},T=t=>{const{prefixCls:o,ariaId:n,title:a,footer:s,extra:i,closable:l,loading:c,onClose:d,headerStyle:f,bodyStyle:g,footerStyle:h,children:b,classNames:y,styles:x}=t,v=u("drawer"),{classNames:$,styles:w,closable:S}=v,[C,k]=p([$,y],[w,x],{props:{...t,closable:l??S}}),z=e.useMemo(()=>{const e=l??S;if(!1!==e)return"object"==typeof e&&e&&"end"===e.placement?"end":"start"},[l,S]),R=e.useCallback(t=>e.createElement("button",{type:"button",onClick:d,className:r(`${o}-close`,{[`${o}-close-${z}`]:"end"===z},C.close),style:k.close},t),[d,o,z,C.close,k.close]),[D,I]=E(N(t),N(v),{closable:!0,closeIconRender:R});return e.createElement(e.Fragment,null,a||D?e.createElement("div",{style:{...k.header,...f},className:r(`${o}-header`,C.header,{[`${o}-header-close-only`]:D&&!a&&!i})},e.createElement("div",{className:`${o}-header-title`},"start"===z&&I,a&&e.createElement("div",{className:r(`${o}-title`,C.title),style:k.title,id:n},a)),i&&e.createElement("div",{className:r(`${o}-extra`,C.extra),style:k.extra},i),"end"===z&&I):null,e.createElement("div",{className:r(`${o}-body`,C.body),style:{...k.body,...g}},c?e.createElement(m,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):b),s?e.createElement("div",{className:r(`${o}-footer`,C.footer),style:{...k.footer,...h}},s):null)},W=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},K=(e,t)=>({"&-enter, &-appear":{...e,"&-active":t},"&-leave":{...t,"&-active":e}}),X=(e,t)=>({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}},...K({opacity:e},{opacity:1})}),A=(e,t)=>[X(.7,t),K({transform:W(e)},{transform:"none"})],F=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:X(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((e,t)=>({...e,[`&-${t}`]:A(t,o)}),{})}}},U=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:n,colorBgMask:r,colorBgElevated:a,motionDurationSlow:s,motionDurationMid:i,paddingXS:l,padding:c,paddingLG:d,fontSizeLG:u,lineHeightLG:p,lineWidth:m,lineType:f,colorSplit:g,marginXS:y,colorIcon:x,colorIconHover:v,colorBgTextHover:$,colorBgTextActive:w,colorText:S,fontWeightStrong:C,footerPaddingBlock:k,footerPaddingInline:z,draggerSize:E,calc:N}=e,R=`${o}-content-wrapper`,D=`${o}-resizable-dragger`;return{[o]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none",color:S,"&-pure":{position:"relative",background:a,display:"flex",flexDirection:"column",pointerEvents:"auto",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:n,background:r,pointerEvents:"auto",[`&${o}-mask-blur`]:{backdropFilter:"blur(4px)"}},[R]:{position:"absolute",zIndex:n,maxWidth:"100vw",transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${R}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${R}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${R}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${R}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-section`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:a,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${h(c)} ${h(d)}`,fontSize:u,lineHeight:p,borderBottom:`${h(m)} ${f} ${g}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:{display:"inline-flex",width:N(u).add(l).equal(),height:N(u).add(l).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",color:x,fontWeight:C,fontSize:u,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${i}`,textRendering:"auto",[`&${o}-close-end`]:{marginInlineStart:y},[`&:not(${o}-close-end)`]:{marginInlineEnd:y},"&:hover":{color:v,backgroundColor:$,textDecoration:"none"},"&:active":{backgroundColor:w},...b(e)},[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:u,lineHeight:p},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:d,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${h(k)} ${h(z)}`,borderTop:`${h(m)} ${f} ${g}`},[D]:{position:"absolute",zIndex:1,backgroundColor:"transparent",userSelect:"none",pointerEvents:"auto","&:hover":{backgroundColor:e.colorPrimary,opacity:.2},"&-dragging":{backgroundColor:e.colorPrimary,opacity:.3}},[`${D}-left`]:{top:0,bottom:0,insetInlineEnd:0,width:E,cursor:"col-resize"},[`${D}-right`]:{top:0,bottom:0,insetInlineStart:0,width:E,cursor:"col-resize"},[`${D}-top`]:{insetInline:0,bottom:0,height:E,cursor:"row-resize"},[`${D}-bottom`]:{insetInline:0,top:0,height:E,cursor:"row-resize"},[`${R}-dragging`]:{userSelect:"none",transition:"none",willChange:"width, height",[`${o}-content`]:{pointerEvents:"none"},[`${o}-section`]:{pointerEvents:"none"}},"&-rtl":{direction:"rtl"}}}},Y=f("Drawer",e=>{const t=g(e,{});return[U(t),F(t)]},e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding,draggerSize:4})),_={distance:180},q=378,G=t=>{const{rootClassName:o,size:n,defaultSize:a=q,height:s,width:i,mask:l,push:c=_,open:d,afterOpenChange:m,onClose:f,prefixCls:g,getContainer:h,panelRef:b=null,style:C,className:E,resizable:N,"aria-labelledby":D,focusable:I,maskStyle:M,drawerStyle:O,contentWrapperStyle:P,destroyOnClose:L,destroyOnHidden:j,...H}=t,{placement:W}=H,K=y(),X=H.title?K:void 0,{getPopupContainer:A,getPrefixCls:F,direction:U,className:G,style:J,classNames:V,styles:Q,mask:Z}=u("drawer"),ee=F("drawer",g),[te,oe]=Y(ee),ne=void 0===h&&A?()=>A(document.body):h,re=e.useMemo(()=>"number"==typeof n?n:"large"===n?736:"default"===n?q:"string"==typeof n?/^\d+(\.\d+)?$/.test(n)?Number(n):n:W&&"left"!==W&&"right"!==W?s:i,[n,W,i,s]),ae={motionName:S(ee,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},se=k(),ie=x(b,se),[le,ce]=v("Drawer",H.zIndex),[de,ue]=R(l,Z,ee),pe=z(I,!1!==ne&&de),{classNames:me,styles:fe,rootStyle:ge}=H,he={...t,zIndex:le,panelRef:b,mask:de,defaultSize:a,push:c,focusable:pe},[be,ye]=p([V,me],[Q,fe],{props:he}),xe=r({"no-mask":!de,[`${ee}-rtl`]:"rtl"===U},o,te,oe,be.root);return e.createElement($,{form:!0,space:!0},e.createElement(w.Provider,{value:ce},e.createElement(B,{prefixCls:ee,onClose:f,maskMotion:ae,motion:e=>({motionName:S(ee,`panel-motion-${e}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),...H,classNames:{mask:r(be.mask,ue.mask),section:be.section,wrapper:be.wrapper,dragger:be.dragger},styles:{mask:{...ye.mask,...M},section:{...ye.section,...O},wrapper:{...ye.wrapper,...P},dragger:ye.dragger},open:d,mask:de,push:c,size:re,defaultSize:a,style:{...J,...C},rootStyle:{...ge,...ye.root},className:r(G,E),rootClassName:xe,getContainer:ne,afterOpenChange:m,panelRef:ie,zIndex:le,...N?{resizable:N}:{},"aria-labelledby":D??X,destroyOnHidden:j??L,focusTriggerAfterClose:pe.focusTriggerAfterClose,focusTrap:pe.trap},e.createElement(T,{prefixCls:ee,size:n,...H,ariaId:X,onClose:f}))))};G._InternalPanelDoNotUseOrYouWillBeFired=t=>{const{prefixCls:o,style:n,className:a,placement:s="right",...i}=t,{getPrefixCls:l}=e.useContext(C),c=l("drawer",o),[d,u]=Y(c),p=r(c,`${c}-pure`,`${c}-${s}`,d,u,a);return e.createElement("div",{className:p,style:n},e.createElement(T,{prefixCls:c,...i}))};export{G as D};
