import{I as e,k as a,dd as t,T as s,o as r,C as n,y as i,Q as l,x as o,s as c,A as d,p as m,Y as h,P as f}from"./index-IfHJv5WL.js";import{r as x}from"./vendor-kOq7Q5-U.js";import{I as u}from"./InfiniteScrollList-Chj7-TfW.js";import{u as g}from"./useDebounced-CaaHS48V.js";import{a as p}from"./index-CPaPbrqg.js";import{T as j}from"./index-CYMh9ovW.js";import{T as y}from"./index-BM57nN4D.js";import{D as b}from"./index-C5Y2dds-.js";import"./charts-DyIopC3t.js";import"./index-BSxM1sbQ.js";var v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_.apply(this,arguments)}const S=(a,t)=>x.createElement(e,_({},a,{ref:t,icon:v})),C=x.forwardRef(S);var w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]},name:"usergroup-add",theme:"outlined"};function k(){return k=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},k.apply(this,arguments)}const z=(a,t)=>x.createElement(e,k({},a,{ref:t,icon:w})),T=x.forwardRef(z),{Title:M,Text:O}=s,{Option:L}=p,D=()=>{const e=a.c(34),[s,d]=x.useState(1),[m,h]=x.useState(""),[f,y]=x.useState(null),[b,v]=x.useState(null);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[0]=_):_=e[0];const[S,C]=x.useState(_),w=g(m,500),k=g(f,500);let z;e[1]!==k||e[2]!==w||e[3]!==b||e[4]!==s?(z={page:s,limit:10,search:w,age:k,gender:b},e[1]=k,e[2]=w,e[3]=b,e[4]=s,e[5]=z):z=e[5];const{data:T,isFetching:O}=t(z);let D,I,R,B,E;e[6]!==T||e[7]!==s?(D=()=>{T?.data&&C(1===s?T.data:e=>{const a=T.data.filter(a=>!e.some(e=>(e.sibling_id||e.user_id)===(a.sibling_id||a.user_id)));return[...e,...a]})},I=[T,s],e[6]=T,e[7]=s,e[8]=D,e[9]=I):(D=e[8],I=e[9]),x.useEffect(D,I),e[10]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{d(1),C([])},e[10]=R):R=e[10],e[11]!==k||e[12]!==w||e[13]!==b?(B=[w,k,b],e[11]=k,e[12]=w,e[13]=b,e[14]=B):B=e[14],x.useEffect(R,B),e[15]!==T?.meta?.totalData||e[16]!==O||e[17]!==S.length?(E=()=>{!O&&T?.meta?.totalData>S.length&&d(P)},e[15]=T?.meta?.totalData,e[16]=O,e[17]=S.length,e[18]=E):E=e[18];const N=E,q=A;let U,F,G,K,Q,W,X,Y,$;e[19]===Symbol.for("react.memo_cache_sentinel")?(U=r.jsx(M,{level:5,children:"ðŸ‘¥ Segmentasi Market (Potensi Saudara)"}),F={marginTop:16},e[19]=U,e[20]=F):(U=e[19],F=e[20]),e[21]===Symbol.for("react.memo_cache_sentinel")?(K=[12,12],G={marginBottom:16},e[21]=G,e[22]=K):(G=e[21],K=e[22]),e[23]===Symbol.for("react.memo_cache_sentinel")?(Q=r.jsx(n,{xs:24,md:12,children:r.jsx(i,{placeholder:"Cari nama saudara atau siswa...",prefix:r.jsx(l,{}),onChange:e=>h(e.target.value),allowClear:!0})}),e[23]=Q):Q=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(W={width:"100%"},e[24]=W):W=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(X=r.jsx(n,{xs:12,md:6,children:r.jsx(j,{placeholder:"Umur Saudara",style:W,min:0,max:25,onChange:e=>y(e)})}),e[25]=X):X=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(Y={width:"100%"},e[26]=Y):Y=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?($=r.jsxs(o,{gutter:K,style:G,children:[Q,X,r.jsx(n,{xs:12,md:6,children:r.jsxs(p,{placeholder:"Gender Saudara",style:Y,allowClear:!0,onChange:e=>v(e),children:[r.jsx(L,{value:"L",children:"Laki-laki"}),r.jsx(L,{value:"P",children:"Perempuan"})]})})]}),e[27]=$):$=e[27];const H=T?.meta?.totalData>S.length;let J,V;return e[28]===Symbol.for("react.memo_cache_sentinel")?(J={gutter:[12,12],xs:24,sm:12,md:12,lg:8,xl:6},e[28]=J):J=e[28],e[29]!==N||e[30]!==O||e[31]!==S||e[32]!==H?(V=r.jsxs(c,{title:U,style:F,children:[$,r.jsx(u,{data:S,loading:O,hasMore:H,onLoadMore:N,renderItem:q,height:"500px",emptyText:"Tidak ada data saudara yang sesuai filter",grid:J})]}),e[29]=N,e[30]=O,e[31]=S,e[32]=H,e[33]=V):V=e[33],V};function P(e){return e+1}function A(e){return r.jsx(c,{hoverable:!0,style:{height:"100%"},children:r.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[r.jsx(d,{shape:"square",size:54,icon:r.jsx(m,{}),style:{backgroundColor:"L"===e.gender?"#1890ff":"#eb2f96",flexShrink:0}}),r.jsxs("div",{style:{flex:1,minWidth:0},children:[r.jsx(O,{strong:!0,style:{fontSize:16,display:"block"},ellipsis:!0,children:e.full_name}),r.jsxs("div",{style:{display:"flex",gap:6,margin:"4px 0 8px 0"},children:[r.jsx(y,{color:"blue",children:e.age?`${e.age} Tahun`:"Usia -"}),r.jsx(y,{color:"L"===e.gender?"geekblue":"magenta",children:"L"===e.gender?"Laki-laki":"Perempuan"})]}),r.jsxs("div",{style:{backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"6px",marginTop:"8px"},children:[r.jsxs(h,{align:"center",style:{fontSize:12,color:"#666",marginBottom:4},children:[r.jsx(T,{}),r.jsx("span",{children:"Saudara dari siswa:"})]}),r.jsx("div",{style:{width:"100%",overflow:"hidden"},children:r.jsx(O,{strong:!0,style:{color:"#1890ff",fontSize:13,display:"block"},ellipsis:!0,children:e.linked_student_name||"(Nama Siswa Tidak Muncul)"})}),r.jsx(b,{style:{margin:"6px 0"}}),r.jsxs(h,{vertical:!0,size:1,style:{width:"100%",fontSize:11},children:[r.jsxs(O,{type:"secondary",ellipsis:!0,children:[r.jsx(f,{style:{marginRight:4}}),e.homebase_name||"Satuan N/A"]}),r.jsxs(O,{type:"secondary",ellipsis:!0,children:[r.jsx(C,{style:{marginRight:4}}),e.city_name||"Kota N/A"]})]})]})]})]})})}export{D as default};
