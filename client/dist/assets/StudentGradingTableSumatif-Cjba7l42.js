import{az as e,k as s,o as i,X as t,T as n,s as r}from"./index-DJgzJvx0.js";import"./vendor-kOq7Q5-U.js";import{F as a}from"./Table-Bpp4NRb8.js";import{T as l}from"./index-Dixg4MZV.js";import"./charts-4CCI6hAs.js";import"./index-ZAZRIL-n.js";import"./index-CsPvpU6M.js";import"./index-Bjno29EH.js";import"./index-BzygXUWO.js";import"./useClosable-BMlLLbW6.js";const d=e("book-text",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]),o=e("hammer",[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]]),{Text:c}=n,m=e=>{const n=s.c(31),{students:m,isMobile:k,isFilterReady:_,onSummativeChange:g,subchapters:S}=e;let z;n[0]!==S?(z=void 0===S?[]:S,n[0]=S,n[1]=z):z=n[1];const N=z;let I;if(n[2]!==m||n[3]!==N){const e=Array.isArray(N)?N:[],s=new Set;(m||[]).forEach(e=>{const i=e?.summativeScores||{};Object.keys(i).forEach(e=>{"__new"!==e&&s.add(String(e))})});const i=Array.from(s).sort(h).map(y);I=[...e];const t=new Set(e.map(u));i.forEach(e=>{const s=String(e.scoreKey);t.has(s)||(I.push(e),t.add(s))}),n[2]=m,n[3]=N,n[4]=I}else I=n[4];const A=I,K=p,C=x,T=j;let F;n[5]!==_||n[6]!==k||n[7]!==g?(F=(e,s,n)=>{const r=K(n),a=T(e,r);return i.jsxs(t,{vertical:!0,size:6,style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsxs(c,{type:"secondary",style:{fontSize:12},children:[i.jsx(d,{size:13,style:{marginRight:4}}),"Tulis"]}),i.jsx(l,{min:0,max:100,step:1,precision:0,size:k?"small":"middle",style:{width:"100%"},value:a.score_written??0,disabled:!_,onChange:e=>g(s,r,"score_written",e)})]}),i.jsxs("div",{children:[i.jsxs(c,{type:"secondary",style:{fontSize:12},children:[i.jsx(o,{size:13,style:{marginRight:4}}),"Praktik"]}),i.jsx(l,{min:0,max:100,step:1,precision:0,size:k?"small":"middle",style:{width:"100%"},value:a.score_skill??0,disabled:!_,onChange:e=>g(s,r,"score_skill",e)})]})]})},n[5]=_,n[6]=k,n[7]=g,n[8]=F):F=n[8];const H=F;let M,R,$,E,L,q;if(n[9]===Symbol.for("react.memo_cache_sentinel")?(M={title:"NIS",dataIndex:"nis",key:"nis",width:"14%",render:f,responsive:["md"]},n[9]=M):M=n[9],n[10]===Symbol.for("react.memo_cache_sentinel")?(R={title:"Nama Siswa",dataIndex:"name",key:"name",width:"22%",render:b,responsive:["md"]},n[10]=R):R=n[10],n[11]===Symbol.for("react.memo_cache_sentinel")?($={title:"Siswa",key:"student",responsive:["xs"],render:v},n[11]=$):$=n[11],n[12]!==A||n[13]!==H?(E=A.map(e=>{const s=K(e);return{title:C(e),key:`sub_${s}`,width:"20%",render:(s,i,t)=>H(i,t,e)}}),n[12]=A,n[13]=H,n[14]=E):E=n[14],n[15]!==_||n[16]!==H||n[17]!==E){if(L=[M,R,$,...E],_){let e;n[19]!==H?(e={title:"Input Nilai",key:"sub_new",width:"20%",render:(e,s,i)=>H(s,i,{scoreKey:"__new",title:"Input Nilai"})},n[19]=H,n[20]=e):e=n[20],L.push(e)}n[15]=_,n[16]=H,n[17]=E,n[18]=L}else L=n[18];n[21]!==_||n[22]!==A||n[23]!==H?(q=(e,s)=>i.jsx(r,{size:"small",style:{borderRadius:12,border:"1px solid #f0f0f0"},styles:{body:{padding:12}},children:i.jsxs(t,{vertical:!0,size:8,style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(c,{strong:!0,children:e.name}),i.jsx("div",{children:i.jsxs(c,{type:"secondary",style:{fontSize:12},children:["NIS: ",e.nis||"-"]})})]}),i.jsxs("div",{style:{display:"grid",gap:8},children:[A.map(t=>i.jsxs("div",{children:[i.jsx(c,{type:"secondary",children:C(t)}),H(e,s,t)]},`sub_mobile_${K(t)}`)),_&&i.jsxs("div",{children:[i.jsx(c,{type:"secondary",children:"Input Nilai"}),H(e,s,{scoreKey:"__new"})]},"sub_mobile_new")]})]})},e.id),n[21]=_,n[22]=A,n[23]=H,n[24]=q):q=n[24];const B=q;let O;return n[25]!==L||n[26]!==k||n[27]!==A.length||n[28]!==B||n[29]!==m?(O=k?i.jsx(t,{vertical:!0,size:12,style:{width:"100%"},children:(m||[]).map((e,s)=>B(e,s))}):i.jsx(a,{dataSource:m,columns:L,rowKey:w,pagination:!1,size:"middle",tableLayout:"fixed",scroll:A.length>2?{x:980}:void 0,locale:{emptyText:"Belum ada siswa di kelas ini."}}),n[25]=L,n[26]=k,n[27]=A.length,n[28]=B,n[29]=m,n[30]=O):O=n[30],O};function h(e,s){const i=Number(e),t=Number(s),n=Number.isFinite(i)&&i>0,r=Number.isFinite(t)&&t>0;return n&&r?i-t:n?-1:r?1:e.localeCompare(s)}function y(e,s){const i=Number(e),t=Number.isFinite(i)&&i>0?i:s+1;return{id:e,scoreKey:e,labelIndex:t,title:`Nilai ${t}`}}function u(e){return String(e?.scoreKey??e?.id??e?.key??e?.value)}function p(e){return e?.scoreKey??e?.id??e?.key??e?.value}function x(e){return e?.title||`Nilai ${e?.labelIndex??e?.id??"-"}`}function j(e,s){return e?.summativeScores?.[s]||{}}function f(e){return i.jsx(c,{children:e||"-"})}function b(e){return i.jsx(c,{strong:!0,children:e})}function v(e,s){return i.jsxs(t,{vertical:!0,size:2,children:[i.jsx(c,{strong:!0,children:s.name}),i.jsx(c,{type:"secondary",style:{fontSize:12},children:s.nis||"-"})]})}function w(e){return e.id}export{m as default};
