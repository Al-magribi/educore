import{I as e,a as t,u as s,j as a,T as r,A as n,b as l,R as i,C as c,d as o,e as d,f as m,g as x}from"./index-CVvYH8o1.js";import{b as h}from"./vendor-BhwIo2T6.js";import{P as f}from"./progress-CqOcmjDl.js";import{S as j}from"./index-CAcyGMA9.js";import{S as u}from"./index-D_QhuNwQ.js";import{R as y,a as p}from"./TeamOutlined-CI1D5Zzz.js";import{F as g}from"./Table-C723PDe_.js";import"./index-N53jIs86.js";import"./index-CW8TUlvU.js";var _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},b.apply(this,arguments)}const v=(t,s)=>h.createElement(e,b({},t,{ref:s,icon:_})),S=h.forwardRef(v),{Title:I,Text:k}=r,w=()=>{const e=t.c(43),{data:r,isLoading:x,isError:h}=s();let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},e[0]=_):_=e[0];const b=_;if(x){let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx(l,{title:"Dashboard",children:a.jsx("div",{style:{textAlign:"center",padding:50},children:a.jsx(j,{size:"large"})})}),e[1]=t):t=e[1],t}if(h){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx(l,{title:"Dashboard",children:a.jsx(n,{message:"Gagal memuat data",type:"error",showIcon:!0})}),e[2]=t):t=e[2],t}let v;e[3]!==r?.attendance?(v=r?.attendance.reduce(T,0)||0,e[3]=r?.attendance,e[4]=v):v=e[4];const I=v;let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w=[{title:"Waktu",dataIndex:"created_at",key:"created_at",render:z},{title:"User",dataIndex:"full_name",key:"full_name",render:A},{title:"Aktivitas",dataIndex:"action",key:"action",render:C}],e[5]=w):w=e[5];const H=w;let B,D,O;e[6]===Symbol.for("react.memo_cache_sentinel")?(B={padding:"0 10px"},e[6]=B):B=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(D=[16,16],O={marginBottom:24},e[7]=D,e[8]=O):(D=e[7],O=e[8]);const M=r?.stats?.students||0;let R,E;e[9]===Symbol.for("react.memo_cache_sentinel")?(R=a.jsx(i,{style:{color:"#1890ff"}}),e[9]=R):R=e[9],e[10]!==M?(E=a.jsx(c,{xs:24,sm:12,md:6,children:a.jsx(o,{style:b,children:a.jsx(u,{title:"Total Siswa",value:M,prefix:R})})}),e[10]=M,e[11]=E):E=e[11];const F=r?.stats?.teachers||0;let G,K;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=a.jsx(y,{style:{color:"#52c41a"}}),e[12]=G):G=e[12],e[13]!==F?(K=a.jsx(c,{xs:24,sm:12,md:6,children:a.jsx(o,{style:b,children:a.jsx(u,{title:"Total Guru",value:F,prefix:G})})}),e[13]=F,e[14]=K):K=e[14];const L=r?.stats?.activeExams||0;let P,U;e[15]===Symbol.for("react.memo_cache_sentinel")?(P=a.jsx(p,{style:{color:"#faad14"}}),e[15]=P):P=e[15],e[16]!==L?(U=a.jsx(c,{xs:24,sm:12,md:6,children:a.jsx(o,{style:b,children:a.jsx(u,{title:"Ujian Aktif (CBT)",value:L,prefix:P})})}),e[16]=L,e[17]=U):U=e[17];const V=r?.stats?.tahfizToday||0;let W,q,J,N,Q,X,Y,Z,$,ee,te;return e[18]===Symbol.for("react.memo_cache_sentinel")?(W=a.jsx(d,{style:{color:"#722ed1"}}),e[18]=W):W=e[18],e[19]!==V?(q=a.jsx(c,{xs:24,sm:12,md:6,children:a.jsx(o,{style:b,children:a.jsx(u,{title:"Setoran Tahfiz (Hari Ini)",value:V,prefix:W})})}),e[19]=V,e[20]=q):q=e[20],e[21]!==K||e[22]!==U||e[23]!==q||e[24]!==E?(J=a.jsxs(m,{gutter:D,style:O,children:[E,K,U,q]}),e[21]=K,e[22]=U,e[23]=q,e[24]=E,e[25]=J):J=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(N=[24,24],e[26]=N):N=e[26],e[27]!==r||e[28]!==I?(Q=r?.attendance?.length>0?r.attendance.map((e,t)=>{const s=I>0?(parseInt(e.count)/I*100).toFixed(1):0;let r="#1890ff";return"Sakit"===e.status&&(r="#faad14"),"Izin"===e.status&&(r="#13c2c2"),"Alpha"===e.status&&(r="#ff4d4f"),a.jsxs("div",{style:{marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx(k,{children:e.status}),a.jsxs(k,{strong:!0,children:[e.count," Siswa"]})]}),a.jsx(f,{percent:s,strokeColor:r,size:"small"})]},t)}):a.jsx(n,{title:"Belum ada data presensi hari ini",type:"info",showIcon:!0}),e[27]=r,e[28]=I,e[29]=Q):Q=e[29],e[30]!==Q?(X=a.jsx(c,{xs:24,lg:10,children:a.jsx(o,{title:"Kehadiran Hari Ini",style:b,children:Q})}),e[30]=Q,e[31]=X):X=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(Y=a.jsxs("span",{children:[a.jsx(S,{})," Aktivitas Sistem Terakhir"]}),e[32]=Y):Y=e[32],e[33]!==r?.logs?(Z=r?.logs||[],e[33]=r?.logs,e[34]=Z):Z=e[34],e[35]!==Z?($=a.jsx(c,{xs:24,lg:14,children:a.jsx(o,{title:Y,style:b,children:a.jsx(g,{dataSource:Z,columns:H,pagination:!1,rowKey:"created_at",size:"small"})})}),e[35]=Z,e[36]=$):$=e[36],e[37]!==X||e[38]!==$?(ee=a.jsxs(m,{gutter:N,children:[X,$]}),e[37]=X,e[38]=$,e[39]=ee):ee=e[39],e[40]!==J||e[41]!==ee?(te=a.jsx(l,{title:"Dashboard Center",children:a.jsxs("div",{style:B,children:[J,ee]})}),e[40]=J,e[41]=ee,e[42]=te):te=e[42],te};function T(e,t){return e+parseInt(t.count)}function z(e){return new Date(e).toLocaleString("id-ID")}function A(e){return a.jsx(k,{strong:!0,children:e})}function C(e){return a.jsx(x,{color:"blue",children:e})}export{w as default};
